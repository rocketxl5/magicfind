{"version":3,"sources":["contexts/RouteContext.js","contexts/PathContext.js","contexts/UserContext.js","contexts/MailContext.js","contexts/SearchContext.js","contexts/CardContext.js","contexts/ShoppingCartContext.js","components/hooks/useLogin.js","components/utilities/validateLogin.js","components/auth/Login.js","components/hooks/useRegister.js","components/utilities/validateRegister.js","components/auth/Register.js","components/auth/Settings.js","components/views/StoreItem.js","components/views/Suggestions.js","components/views/SearchField.js","components/layout/Spinner.js","components/layout/spinner.gif","components/views/SearchCatalog.js","components/layout/AuthMenu.js","components/layout/Navbar.js","components/layout/Header.js","components/layout/Footer.js","components/views/Home.js","components/views/Contact.js","components/views/About.js","components/views/Profile.js","components/views/UserPage.js","components/views/SearchStore.js","components/views/Card.js","components/views/SearchAPI.js","components/views/CatalogItem.js","components/views/Catalog.js","components/views/CardListing.js","components/views/AddCard.js","components/views/NotFound.js","components/views/CartItem.js","components/views/ShoppingCart.js","components/views/Confirmation.js","components/views/RemoveCard.js","components/views/ModifyCard.js","components/utilities/getPath.js","components/views/mail/SideBar.js","components/views/mail/MailHeader.js","components/utilities/timestampConverter.js","components/views/mail/Mail.js","components/utilities/validateMessage.js","components/hooks/useMessage.js","components/views/mail/ComposeMessage.js","components/views/mail/Message.js","components/views/mail/MailBox.js","App.js","index.js"],"names":["RouteContext","createContext","RouteProvider","children","useState","notFound","setNotFound","Provider","value","PathContext","PathProvider","path","setPath","UserContext","UserProvider","JSON","parse","localStorage","getItem","user","setUser","unreadMail","setUnreadMail","useEffect","headers","Headers","append","token","options","method","fetch","id","then","res","json","data","filter","message","isRead","isTrash","length","catch","error","console","log","MailContext","MailProvider","useContext","sentMessages","setSentMessages","receivedMessages","setReceivedMessages","messages","sent","received","SearchContext","SearchProvider","searchResult","setSearchResult","isValidLength","setIsValidLength","showSuggestions","setShowSuggestions","isSubmitted","setIsSubmitted","sentForm","setSentForm","hasFocus","setHasFocus","text","setText","searchTerm","setSearchTerm","CardContext","CardProvider","cardContext","setCardContext","apiCardNames","setApiCardNames","tracker","setTracker","userStoreContent","setUserStoreContent","loading","setLoading","ShoppingCartContext","ShoppingCartProvider","cartItems","setCartItems","itemsCount","setItemsCount","setItem","stringify","quantity","forEach","item","parseInt","quantity_selected","useForm","callback","validate","email","password","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","Object","keys","handleChange","e","target","name","handleClick","preventDefault","validateLogin","trim","Container","styled","div","Login","setEmail","setPassword","isValid","setIsValid","history","useHistory","useLogin","userInput","body","ok","Error","auth","country","_id","cards","date","push","pathname","className","htmlFor","type","onChange","placeholder","onClick","validateRegister","password2","Register","setName","setCountry","setPassword2","useRegister","newUser","Settings","StoreItem","card","setRemoveCard","setModifyCard","src","image_uris","png","set_name","condition","toUpperCase","language","price","state","Suggestions","setPower","setHoverTarget","setHoverList","cardName","index","firstTier","setFirstTier","secondTier","setSecondTier","thirdTier","setThirdTier","firstIndex","toLowerCase","indexOf","lastIndex","substring","tabIndex","onMouseEnter","handleMouseEnter","onMouseOut","Wrapper","Search","Input","input","SearchIcon","span","SearchField","setRequestSent","cardNames","listItems","searchInput","isOn","form","currentListItem","setCurrentListItem","previousListItem","setPreviousListItem","hoverTarget","hoverList","power","style","current","firstChild","handleKeyDown","key","listItem","childNodes","nextSibling","textContent","previousSibling","document","addEventListener","removeEventListener","onFocus","onBlur","ref","size","content","nodeName","parentNode","onMouseLeave","map","Spinner","alt","width","margin","display","SearchCatalog","setCardName","setCardNames","setIsOn","results","setResults","useRef","fetchSingleCard","filteredCardNames","result","includes","search","onSubmit","AuthMenu","setDisplay","to","clear","Navbar","navCheckBox","searchCheckbox","checked","getElementById","CountContainer","Count","Cart","Mail","UnreadContainer","Unread","Header","location","useLocation","title","Footer","Home","Contact","About","Profile","UserPage","Buttons","Button","button","SearchStore","setCards","useParams","fetchAllCards","split","focus","removeItem","charAt","Card","rarity","collector_number","prices","usd","detail","oracleID","setOracleID","requestSent","searching","string","sanitized","join","sanitizeString","oracle_id","filteredNames","filterData","Selected","Link","CatalogItem","setQuantity","isSelectedItem","setIsSelectedItem","currentTarget","foundItem","find","userName","userCountry","sender","subject","border","selected","itemFound","cartItem","isSelected","items","splice","trashItem","header","isQuantityAvailable","updateCart","Catalog","GoBack","BackIcon","BackText","Select","select","Comment","textarea","Quantity","Circles","CardListing","setIsSent","cardCondition","setCardCondition","cardLanguage","setCardLanguage","cardPrice","setCardPrice","comment","setComment","foil","type_line","slice","frame","artist","AddCard","isSent","newCard","skryfallID","parseFloat","userID","NotFound","Info","DetailsContainer","Details","DetailsFooter","footer","DetailsHeader","Selector","Content","main","aside","ImageContainer","Image","img","CartItem","setIsUpdating","Array","x","i","Items","Aside","CheckoutButton","ShoppingCart","totalItems","setTotalItems","subTotal","setSubTotal","isUpdating","amount","handleCheckout","Confirmation","Remove","h2","cardID","removeCard","Modify","updates","user_id","getPath","url","ListItem","ul","li","SideBar","checkedState","setMessages","deleted","toBeDeleted","trashed","MailHeader","timestampConverter","longDate","timestamp","Date","day","getDate","month","convertMonth","getMonth","year","getFullYear","shortDate","standardize","num","toString","setCurrentMessage","backgroundColor","background","read","stopPropagation","recipient","clientWidth","validateMessage","Message","recipientName","setRecipientName","setSubject","messageID","threadID","isReply","count","setCount","color","setColor","errorMsg","recipientField","subjectField","textField","useMessage","Detail","p","section","a","currentMessage","setIsReadStatus","status","isReadStatus","setIsTrashStatus","isSentMessage","isTrashStatus","handleDeleteClick","Messages","MailBox","setChecked","setIsTrash","setCheckedState","fill","isChecked","position","newCheckedState","ComposeMessage","App","exact","exaxt","SearchAPI","RemoveCard","ModifyCard","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ede547cb.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react';\r\nimport { __RouterContext } from 'react-router';\r\n\r\nexport const RouteContext = createContext(null);\r\n\r\nexport const RouteProvider = ({ children }) => {\r\n  const [notFound, setNotFound] = useState(false);\r\n  return (\r\n    <RouteContext.Provider value={{ notFound, setNotFound }}>\r\n      {children}\r\n    </RouteContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useState } from 'react';\r\n\r\nexport const PathContext = createContext(null);\r\n\r\nexport const PathProvider = ({ children }) => {\r\n  const [path, setPath] = useState('');\r\n\r\n  return (\r\n    <PathContext.Provider value={{ path, setPath }}>\r\n      {children}\r\n    </PathContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useState, useEffect } from 'react';\r\n\r\nexport const UserContext = createContext(null);\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')));\r\n  const [unreadMail, setUnreadMail] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('user')) {\r\n      setUser(JSON.parse(localStorage.getItem('user')));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const headers = new Headers();\r\n      headers.append('Content-type', 'application/json');\r\n      headers.append('auth-token', user.token);\r\n\r\n      const options = {\r\n        method: 'GET',\r\n        headers: headers\r\n      };\r\n\r\n      fetch(`/api/messages/unread/${user.id}`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.data) {\r\n            // console.log(data.data);\r\n            if (data.data) {\r\n              // console.log(data.data);\r\n              const unreadMail = data.data.filter((message) => {\r\n                return !message.isRead && !message.isTrash;\r\n              });\r\n\r\n              setUnreadMail(unreadMail.length);\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, setUser, unreadMail, setUnreadMail }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { UserContext } from './UserContext';\r\nexport const MailContext = createContext(null);\r\n// Prevents access to add-card component if a card  hasen't been selected\r\n// previously. This means a search has been done in the search-api view\r\n// and a card was selected to be added to the user store\r\nexport const MailProvider = ({ children }) => {\r\n  const { user } = useContext(UserContext);\r\n  const [sentMessages, setSentMessages] = useState([]);\r\n  const [receivedMessages, setReceivedMessages] = useState([]);\r\n\r\n  // console.log(user);\r\n  // Populates messages in every rendering (reload of page, etc.)\r\n  useEffect(() => {\r\n    if (user) {\r\n      setSentMessages(user.messages.sent);\r\n      setReceivedMessages(user.messages.received);\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <MailContext.Provider\r\n      value={{\r\n        setSentMessages,\r\n        sentMessages,\r\n        setReceivedMessages,\r\n        receivedMessages\r\n      }}\r\n    >\r\n      {children}\r\n    </MailContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext, createContext, useState, useEffect } from 'react';\r\n\r\nexport const SearchContext = createContext(null);\r\n\r\nexport const SearchProvider = ({ children }) => {\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [isValidLength, setIsValidLength] = useState(false);\r\n  // SearchBar & SearchStore only\r\n  const [showSuggestions, setShowSuggestions] = useState(true);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const [sentForm, setSentForm] = useState(null);\r\n  const [hasFocus, setHasFocus] = useState(false);\r\n  const [text, setText] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  return (\r\n    <SearchContext.Provider\r\n      value={{\r\n        searchTerm,\r\n        setSearchTerm,\r\n        searchResult,\r\n        setSearchResult,\r\n        isValidLength,\r\n        setIsValidLength,\r\n        showSuggestions,\r\n        setShowSuggestions,\r\n        isSubmitted,\r\n        setIsSubmitted,\r\n        sentForm,\r\n        setSentForm,\r\n        hasFocus,\r\n        setHasFocus,\r\n        text,\r\n        setText\r\n      }}\r\n    >\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { UserContext } from './UserContext';\r\nimport { SearchContext } from './SearchContext';\r\nimport { PathContext } from './PathContext';\r\nexport const CardContext = createContext(null);\r\n// Prevents access to add-card component if a card  hasen't been selected\r\n// previously. This means a search has been done in the search-api view\r\n// and a card was selected to be added to the user store\r\nexport const CardProvider = ({ children }) => {\r\n  const { user } = useContext(UserContext);\r\n  const { isValidLength } = useContext(SearchContext);\r\n  const { path } = useContext(PathContext);\r\n  const [cardContext, setCardContext] = useState(false);\r\n  const [apiCardNames, setApiCardNames] = useState([]);\r\n  // tracker following currentListItem index\r\n  const [tracker, setTracker] = useState(0);\r\n  const [userStoreContent, setUserStoreContent] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (true) {\r\n      // setLoading(true);\r\n\r\n      const headers = { method: 'GET' };\r\n      fetch(`https://api.scryfall.com/catalog/card-names`, headers)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setApiCardNames(data.data);\r\n          // setLoading(false);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user && path === 'store') {\r\n      const token = user.token;\r\n      const id = user.id;\r\n\r\n      const headers = new Headers();\r\n      headers.append('Content-Type', 'application/json');\r\n      headers.append('auth-token', token);\r\n      const options = {\r\n        method: 'GET',\r\n        headers: headers\r\n      };\r\n      fetch(`/api/cards/${id}`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setUserStoreContent(data.data);\r\n          // setLoading(false);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [path]);\r\n\r\n  return (\r\n    <CardContext.Provider\r\n      value={{\r\n        cardContext,\r\n        setCardContext,\r\n        apiCardNames,\r\n        setApiCardNames,\r\n        userStoreContent,\r\n        setUserStoreContent,\r\n        loading,\r\n        setLoading,\r\n        tracker,\r\n        setTracker\r\n      }}\r\n    >\r\n      {children}\r\n    </CardContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useState, useEffect } from 'react';\r\n\r\nexport const ShoppingCartContext = createContext(null);\r\n\r\nexport const ShoppingCartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [itemsCount, setItemsCount] = useState(0);\r\n  const [subTotal, setSubTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (itemsCount) {\r\n      localStorage.setItem('shopping-cart-items', JSON.stringify(itemsCount));\r\n    }\r\n  }, [itemsCount]);\r\n\r\n  useEffect(() => {\r\n    let quantity = 0;\r\n    cartItems.forEach((item) => {\r\n      quantity += parseInt(item.quantity_selected);\r\n    });\r\n\r\n    setItemsCount(quantity);\r\n\r\n    if (cartItems.length > 0) {\r\n      localStorage.setItem('shopping-cart', JSON.stringify(cartItems));\r\n    }\r\n  }, [cartItems]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('shopping-cart')) {\r\n      setCartItems(JSON.parse(localStorage.getItem('shopping-cart')));\r\n      setItemsCount(JSON.parse(localStorage.getItem('shopping-cart-items')));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <ShoppingCartContext.Provider\r\n      value={{ cartItems, setCartItems, itemsCount, setItemsCount }}\r\n    >\r\n      {children}\r\n    </ShoppingCartContext.Provider>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst useForm = (callback, validate) => {\r\n  const [values, setValues] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({\r\n      ...values,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n\r\n    setErrors(validate(values));\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmitting) {\r\n      callback(values);\r\n    }\r\n  }, [errors]);\r\n\r\n  return { handleChange, values, handleClick, errors };\r\n};\r\n\r\nexport default useForm;\r\n","const validateLogin = (values) => {\r\n  let errors = {};\r\n\r\n  // Check for email\r\n  if (!values.email.trim()) {\r\n    errors.email = 'Email is required';\r\n  }\r\n\r\n  // Check for password\r\n  if (!values.password) {\r\n    errors.password = 'Password is Required';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default validateLogin;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport useLogin from '../hooks/useLogin';\r\nimport validate from '../utilities/validateLogin';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport styled from 'styled-components';\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isValid, setIsValid] = useState(false);\r\n  const { setUser } = useContext(UserContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const callback = (values) => {\r\n    setEmail(values.email);\r\n    setPassword(values.password);\r\n    setIsValid(true);\r\n  };\r\n\r\n  const { handleChange, values, handleClick, errors } = useLogin(\r\n    callback,\r\n    validate\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isValid) {\r\n      return console.log('invalid');\r\n    }\r\n    const userInput = {\r\n      email,\r\n      password\r\n    };\r\n    const options = {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(userInput)\r\n    };\r\n    fetch('/api/users/login', options)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return res.text().then((text) => {\r\n          throw new Error(text);\r\n        });\r\n      })\r\n      .then((data) => {\r\n        console.log(data.data);\r\n        const user = {\r\n          auth: true,\r\n          token: data.token,\r\n          name: data.data.name,\r\n          email: data.data.email,\r\n          country: data.data.country,\r\n          id: data.data._id,\r\n          cards: data.data.cards,\r\n          date: data.data.date,\r\n          messages: data.data.messages\r\n        };\r\n        setUser(user);\r\n\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        history.push({\r\n          pathname: '/me'\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [isValid]);\r\n\r\n  return (\r\n    <Container>\r\n      <form className=\"form\">\r\n        <h2 className=\"page-title\">Login</h2>\r\n        <div className=\"form-element\">\r\n          {errors.email ? (\r\n            <p className=\"error\">{errors.email}</p>\r\n          ) : (\r\n            <label htmlFor=\"email\">Email:</label>\r\n          )}\r\n          <input\r\n            className={errors.email && 'empty-field'}\r\n            id=\"email\"\r\n            type=\"text\"\r\n            name=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n            placeholder=\"Email\"\r\n          />\r\n        </div>\r\n        <div className=\"form-element\">\r\n          {errors.password ? (\r\n            <p className=\"error\">{errors.password}</p>\r\n          ) : (\r\n            <label htmlFor=\"password\">Password:</label>\r\n          )}\r\n          <input\r\n            className={errors.password && 'empty-field'}\r\n            id=\"password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n            placeholder=\"Password\"\r\n          />\r\n          <div className=\"item-buttons push-right\">\r\n            <button className=\"item-button success\" onClick={handleClick}>\r\n              Log In\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div``;\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst useForm = (callback, validate) => {\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    country: '',\r\n    password: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({\r\n      ...values,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n\r\n    setErrors(validate(values));\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmitting) {\r\n      callback(values);\r\n    }\r\n  }, [errors]);\r\n\r\n  return { handleChange, values, handleClick, errors };\r\n};\r\n\r\nexport default useForm;\r\n","const validateRegister = (values) => {\r\n  let errors = {};\r\n\r\n  // Check for name\r\n  if (!values.name) {\r\n    errors.name = 'Name is required';\r\n  }\r\n\r\n  // Check for email\r\n  if (!values.email) {\r\n    errors.email = 'Email is required';\r\n  }\r\n\r\n  // Check for country\r\n  if (!values.country) {\r\n    errors.country = 'Country is Required';\r\n  }\r\n\r\n  // Check for password\r\n  if (!values.password) {\r\n    errors.password = 'Password is Required';\r\n  }\r\n\r\n  // Check for password\r\n  if (!values.password2) {\r\n    errors.password2 = 'Password is Required';\r\n  }\r\n\r\n  // Check if passwords match\r\n  if (values.password && values.password2) {\r\n    if (values.password !== values.password2) {\r\n      errors.password = \"Passwords don't match\";\r\n      errors.password2 = \"Passwords don't match\";\r\n    }\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default validateRegister;\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport useRegister from '../hooks/useRegister';\r\nimport validate from '../utilities/validateRegister';\r\nimport styled from 'styled-components';\r\n\r\nconst Register = () => {\r\n  // const [formData, setFormData] = useState({\r\n  //   name: '',\r\n  //   email: '',\r\n  //   country: '',\r\n  //   password: '',\r\n  //   password2: ''\r\n  // });\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [country, setCountry] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [isValid, setIsValid] = useState(false);\r\n  const history = useHistory();\r\n  // Destructuring\r\n  // const { name, email, country, password, password2 } = formData;\r\n\r\n  // const handleChange = (e) => {\r\n  //   setFormData({ ...formData, [e.target.id]: e.target.value });\r\n  // };\r\n\r\n  const callback = (values) => {\r\n    setName(values.name);\r\n    setEmail(values.email);\r\n    setCountry(values.country);\r\n    setPassword(values.password);\r\n    setPassword2(values.password2);\r\n    setIsValid(true);\r\n  };\r\n\r\n  const { handleChange, values, handleClick, errors } = useRegister(\r\n    callback,\r\n    validate\r\n  );\r\n\r\n  const clearFields = () => {\r\n    setName('');\r\n    setEmail('');\r\n    setCountry('');\r\n    setPassword('');\r\n    setPassword2('');\r\n    setIsValid(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isValid) {\r\n      return console.log('invalid');\r\n    }\r\n\r\n    const newUser = {\r\n      name,\r\n      email,\r\n      country,\r\n      password\r\n    };\r\n    const options = {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(newUser)\r\n    };\r\n    fetch('/api/users', options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log('data', data);\r\n\r\n        history.push('/login');\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, [isValid]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <form className=\"form\">\r\n        <h2 className=\"page-title\">Register</h2>\r\n        <div className=\"form-element\">\r\n          {errors.name ? (\r\n            <p className=\"error\">{errors.name}</p>\r\n          ) : (\r\n            <label htmlFor=\"name\">Name:</label>\r\n          )}\r\n          <input\r\n            className={errors.name && 'empty-field'}\r\n            id=\"name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={values.name}\r\n            onChange={handleChange}\r\n            placeholder=\"Name\"\r\n          />\r\n        </div>\r\n        <div className=\"form-element\">\r\n          {errors.email ? (\r\n            <p className=\"error\">{errors.email}</p>\r\n          ) : (\r\n            <label htmlFor=\"email\">Email:</label>\r\n          )}\r\n          <input\r\n            className={errors.email && 'empty-field'}\r\n            id=\"email\"\r\n            type=\"text\"\r\n            name=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n            placeholder=\"Email\"\r\n          />\r\n        </div>\r\n        <div className=\"form-element\">\r\n          {errors.country ? (\r\n            <p className=\"error\">{errors.country}</p>\r\n          ) : (\r\n            <label htmlFor=\"country\">Country:</label>\r\n          )}\r\n          <input\r\n            className={errors.country && 'empty-field'}\r\n            id=\"country\"\r\n            type=\"text\"\r\n            name=\"country\"\r\n            value={values.country}\r\n            onChange={handleChange}\r\n            placeholder=\"Country\"\r\n          />\r\n        </div>\r\n        <div className=\"form-element\">\r\n          {errors.password ? (\r\n            <p className=\"error\">{errors.password}</p>\r\n          ) : (\r\n            <label htmlFor=\"password\">Password:</label>\r\n          )}\r\n          <input\r\n            className={errors.password && 'empty-field'}\r\n            id=\"password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={handleChange}\r\n            placeholder=\"Password\"\r\n          />\r\n        </div>\r\n        <div className=\"form-element\">\r\n          {errors.password2 ? (\r\n            <p className=\"error\">{errors.password2}</p>\r\n          ) : (\r\n            <label htmlFor=\"password2\">Repeat Password:</label>\r\n          )}\r\n\r\n          <input\r\n            className={errors.password2 && 'empty-field'}\r\n            id=\"password2\"\r\n            type=\"password\"\r\n            name=\"password2\"\r\n            value={values.password2}\r\n            onChange={handleChange}\r\n            placeholder=\"Repeat Password\"\r\n          />\r\n          <div className=\"item-buttons\">\r\n            <button className=\"item-button primary \" onClick={clearFields}>\r\n              Clear\r\n            </button>\r\n            <button className=\"item-button success\" onClick={handleClick}>\r\n              Register\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Fragment>\r\n  );\r\n};\r\nconst Section = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default Register;\r\n","import React from 'react';\r\n\r\nfunction Settings() {\r\n  return <h2 className=\"page-title\">Settings</h2>;\r\n}\r\n\r\nexport default Settings;\r\n","import React, { useContext, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport styled from 'styled-components';\r\n\r\nconst StoreItem = ({ card, setRemoveCard, setModifyCard }) => {\r\n  const { user } = useContext(UserContext);\r\n  const { setCardContext } = useContext(CardContext);\r\n  const token = user.token;\r\n  const userEmail = user.email;\r\n  const history = useHistory();\r\n\r\n  // Remove card from user store\r\n  // Should also remove user from card uers array in database\r\n  const setRemoval = () => {\r\n    setCardContext(true);\r\n    history.push({\r\n      pathname: '/remove-card',\r\n      state: {\r\n        data: card\r\n      }\r\n    });\r\n  };\r\n\r\n  const setModification = () => {\r\n    setCardContext(true);\r\n    history.push({\r\n      pathname: '/modify-card',\r\n      state: {\r\n        data: card\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"item-container\">\r\n      <div className=\"item-info\">\r\n        <div className=\"item-image\">\r\n          <img id=\"item-image\" src={card.image_uris && card.image_uris.png} />\r\n        </div>\r\n\r\n        <div className=\"item-details\">\r\n          <p>{card.set_name}</p>\r\n\r\n          <p>\r\n            Condition: <strong>{card.condition.toUpperCase()}</strong>\r\n          </p>\r\n          <p>\r\n            Quantity: <strong>{card.quantity}</strong>\r\n          </p>\r\n          <p>\r\n            Language: <strong>{card.language.toUpperCase()}</strong>\r\n          </p>\r\n          <p>\r\n            Price: <strong>{card.price}</strong>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"item-buttons\">\r\n        <button className=\"item-button success\" onClick={setModification}>\r\n          Modify\r\n        </button>\r\n\r\n        <button className=\"item-button danger\" onClick={setRemoval}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StoreItem;\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Suggestions = ({\r\n  searchTerm,\r\n  setPower,\r\n  setHoverTarget,\r\n  setHoverList,\r\n  cardName,\r\n  index\r\n}) => {\r\n  const [firstTier, setFirstTier] = useState('');\r\n  const [secondTier, setSecondTier] = useState('');\r\n  const [thirdTier, setThirdTier] = useState('');\r\n  const { tracker, setTracker } = useContext(CardContext);\r\n  // const { setIsSubmitted } = useContext(SearchContext);\r\n  // console.log(cardName);\r\n  // Builds card name string segments when searchTerm changes\r\n  // Boldens the part of card name matching the search text\r\n  useEffect(() => {\r\n    // Gets the index of the first letter matching searchTerm in name string\r\n    const firstIndex = cardName.toLowerCase().indexOf(searchTerm.toLowerCase());\r\n    // Gets the index of the last letter matching searchTerm in name string\r\n    const lastIndex = firstIndex + searchTerm.length;\r\n    setFirstTier(cardName.substring(0, firstIndex));\r\n    setSecondTier(cardName.substring(firstIndex, lastIndex));\r\n    setThirdTier(cardName.substring(lastIndex, cardName.length));\r\n  }, [searchTerm]);\r\n\r\n  const handleMouseEnter = (e) => {\r\n    // setIsActiveMouse(true);\r\n\r\n    setHoverList(true);\r\n    setHoverTarget(e.target);\r\n    setTracker(e.target.tabIndex + 1);\r\n    setPower(true);\r\n  };\r\n\r\n  const handleMouseOut = () => {\r\n    // setHoverTarget(null);\r\n    setHoverList(false);\r\n  };\r\n  return (\r\n    <li\r\n      className=\"suggestion\"\r\n      tabIndex={index}\r\n      onMouseEnter={(e) => handleMouseEnter(e)}\r\n      onMouseOut={() => handleMouseOut()}\r\n    >\r\n      {firstTier}\r\n      <strong>{secondTier}</strong>\r\n      {thirdTier}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Suggestions;\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n  useReducer\r\n} from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Suggestions from './Suggestions';\r\nimport { FiSearch } from 'react-icons/fi';\r\nimport { SearchContext } from '../../contexts/SearchContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport { PathContext } from '../../contexts/PathContext';\r\nimport styled from 'styled-components';\r\n\r\nconst SearchField = ({\r\n  searchTerm,\r\n  setSearchTerm,\r\n  setRequestSent,\r\n  cardNames,\r\n  listItems,\r\n  searchInput,\r\n  isOn,\r\n  form\r\n}) => {\r\n  const [currentListItem, setCurrentListItem] = useState(null);\r\n  const [previousListItem, setPreviousListItem] = useState(null);\r\n  const [hoverTarget, setHoverTarget] = useState(null);\r\n  const [hoverList, setHoverList] = useState(false);\r\n  const [power, setPower] = useState(false);\r\n\r\n  const { isValidLength, setIsValidLength } = useContext(SearchContext);\r\n  const { text, setText } = useContext(SearchContext);\r\n  const { sentForm, setSentForm } = useContext(SearchContext);\r\n  // const { searchTerm, setSearchTerm } = useContext(SearchContext);\r\n  const { setIsSubmitted } = useContext(SearchContext);\r\n  const { tracker, setTracker } = useContext(CardContext);\r\n  const { path } = useContext(PathContext);\r\n\r\n  // Testing searchTerm changes\r\n  // useEffect(() => {\r\n  //   if (searchTerm) {\r\n  //     console.log(searchTerm);\r\n  //   }\r\n  // }, [searchTerm]);\r\n  // console.log(form);\r\n  // Rendering and styling of a Suggestions list item single component\r\n  // Is triggered on currentListItem state change and hoverList state change\r\n  useEffect(() => {\r\n    // If listItems is defined (ul is populated) and Suggestions change\r\n    // are triggered with arrowup and arrowdown keypress.\r\n    if (power) {\r\n      setPower(false);\r\n      console.log(hoverTarget);\r\n      if (!hoverTarget && listItems) {\r\n        if (currentListItem && previousListItem) {\r\n          currentListItem.style['background'] = '#efefef';\r\n          previousListItem.style['background'] = '#fff';\r\n        }\r\n        // keydown form search input field\r\n        if (currentListItem && !previousListItem) {\r\n          currentListItem.style['background'] = '#efefef';\r\n        }\r\n        // keyup back into search input field\r\n        if (!currentListItem && previousListItem) {\r\n          previousListItem.style['background'] = '#fff';\r\n        }\r\n\r\n        if (\r\n          !currentListItem &&\r\n          !previousListItem &&\r\n          listItems.current.firstChild\r\n        ) {\r\n          listItems.current.firstChild.style['background'] = '#fff';\r\n        }\r\n        // Else if listItems is defined (ul is populated) and Suggestions change\r\n        // are triggered with the mouse hover\r\n      } else if (hoverTarget && listItems) {\r\n        // console.log(hoverTarget);\r\n        // if currentListItem is defined (mot null)\r\n        if (currentListItem) {\r\n          currentListItem.style['background'] = '#fff';\r\n          hoverTarget.style['background'] = '#e4e4e4';\r\n          setPreviousListItem(currentListItem);\r\n          setCurrentListItem(hoverTarget);\r\n        } else {\r\n          hoverTarget.style['background'] = '#e4e4e4';\r\n          setPreviousListItem(hoverTarget);\r\n          setCurrentListItem(hoverTarget);\r\n        }\r\n      }\r\n    }\r\n  }, [currentListItem, hoverTarget]);\r\n\r\n  // Clear search field on url change\r\n  useEffect(() => {\r\n    if (searchInput) {\r\n      searchInput.current.value = '';\r\n    }\r\n    if (setSearchTerm) {\r\n      setSearchTerm('');\r\n    }\r\n  }, [path]);\r\n\r\n  // Keyboard arrow up and down autocomplete list searching function\r\n  const handleKeyDown = (e) => {\r\n    if (listItems) {\r\n      // Sets hover state to false for useEffect hook above\r\n      setHoverTarget(false);\r\n\r\n      if (e.key === 'ArrowDown') {\r\n        setPower(true);\r\n        let listItem = '';\r\n        if (tracker === listItems.current.childNodes.length) {\r\n          // console.log(currentListItem.tabIndex);\r\n          return console.log('cant go any higher');\r\n        }\r\n        if (tracker === 0) {\r\n          listItem = listItems.current.firstChild;\r\n          setCurrentListItem(listItem);\r\n          setPreviousListItem(null);\r\n          setRequestSent(false);\r\n        } else if (!currentListItem && previousListItem) {\r\n          listItem = previousListItem;\r\n          setPreviousListItem(null);\r\n          setCurrentListItem(listItem);\r\n        } else {\r\n          listItem = currentListItem.nextSibling;\r\n          setPreviousListItem(currentListItem);\r\n          setCurrentListItem(currentListItem.nextSibling);\r\n        }\r\n        setTracker(tracker + 1);\r\n\r\n        if (listItem) {\r\n          searchInput.current.value = listItem.textContent;\r\n        }\r\n      }\r\n      if (e.key === 'ArrowUp') {\r\n        setPower(true);\r\n        let listItem = '';\r\n        // if (!currentListItem && !previousListItem) {\r\n        //   return null;\r\n        // }\r\n\r\n        if (tracker === 0) {\r\n          return console.log('cant go any lower');\r\n        }\r\n\r\n        if (currentListItem.tabIndex === 0) {\r\n          setPreviousListItem(null);\r\n          setCurrentListItem(null);\r\n        } else {\r\n          listItem = currentListItem.previousSibling;\r\n          setPreviousListItem(currentListItem);\r\n          setCurrentListItem(currentListItem.previousSibling);\r\n        }\r\n        setTracker(tracker - 1);\r\n        if (listItem) {\r\n          searchInput.current.value = listItem.textContent;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // keydown event listener calls handleKeyDown function\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    // console.log(e.target.value);\r\n    setText(e.target.value);\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleBlur = (e) => {\r\n    // Reset currentListItem and previousListItem\r\n    // on loosing focus of the search text field\r\n    setCurrentListItem(null);\r\n    setPreviousListItem(null);\r\n    // console.log('lost focus');\r\n\r\n    if (!hoverList) {\r\n      setIsValidLength(false);\r\n    }\r\n  };\r\n\r\n  const handleFocus = (e) => {\r\n    console.log(form.current.id);\r\n    console.log(sentForm);\r\n    // Clear search if input focus changes\r\n    if (sentForm) {\r\n      if (sentForm !== form.current.id) {\r\n        if (setSearchTerm) {\r\n          setSearchTerm('');\r\n        }\r\n        // setSearchTerm('');\r\n      }\r\n    }\r\n    setTracker(0);\r\n    setSentForm(form.current.id);\r\n    if (text.length > 2) {\r\n      setIsValidLength(true);\r\n      setHoverList(false);\r\n    }\r\n  };\r\n\r\n  // Click event manager function on list of suggestions\r\n  const handleClick = (e) => {\r\n    let content = '';\r\n\r\n    if (e.target.nodeName === 'LI') {\r\n      content = e.target.textContent;\r\n    } else if (e.target.nodeName === 'STRONG') {\r\n      content = e.target.parentNode.textContent;\r\n    }\r\n    setSearchTerm(content.toLowerCase());\r\n    setIsSubmitted(true);\r\n    // localStorage.setItem('searchTerm', JSON.stringify(content));\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Search>\r\n        <Input\r\n          type=\"text\"\r\n          value={isOn ? searchTerm : ''}\r\n          onChange={(e) => handleChange(e)}\r\n          onFocus={(e) => handleFocus(e)}\r\n          onBlur={(e) => {\r\n            handleBlur(e);\r\n          }}\r\n          placeholder={\r\n            form.current &&\r\n            (form.current.id === 'search-catalog'\r\n              ? 'Search Magic Find'\r\n              : form.current.id === 'search-api'\r\n              ? 'Search Skryfall API'\r\n              : 'Search Your Store')\r\n          }\r\n          ref={searchInput}\r\n        />\r\n        <SearchIcon onClick={() => {}}>\r\n          <FiSearch size={20} />\r\n        </SearchIcon>\r\n      </Search>\r\n\r\n      {\r\n        <ul\r\n          onClick={(e) => handleClick(e)}\r\n          onMouseLeave={(e) => setHoverList(false)}\r\n          id=\"search-result\"\r\n          className=\"search-result\"\r\n          ref={listItems}\r\n        >\r\n          {cardNames &&\r\n            cardNames.map((cardName, index) => {\r\n              return (\r\n                isValidLength && (\r\n                  <Suggestions\r\n                    key={cardName}\r\n                    searchTerm={searchTerm}\r\n                    setPower={setPower}\r\n                    setHoverTarget={setHoverTarget}\r\n                    setHoverList={setHoverList}\r\n                    cardName={cardName}\r\n                    index={index}\r\n                  />\r\n                )\r\n              );\r\n            })}\r\n        </ul>\r\n      }\r\n    </Wrapper>\r\n  );\r\n};\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`;\r\nconst Search = styled.div`\r\n  border: 1px solid #333;\r\n  display: flex;\r\n`;\r\nconst Input = styled.input`\r\n  display: inline-block;\r\n  padding: 10px;\r\n  font-size: 1em;\r\n  border: 1px solid #fff;\r\n  width: 100%;\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid #fff;\r\n    box-shadow: 0;\r\n  }\r\n`;\r\n\r\nconst SearchIcon = styled.span`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 50px;\r\n\r\n  &:hover {\r\n  }\r\n`;\r\nexport default SearchField;\r\n","import React, { Fragment } from 'react';\r\nimport spinner from './spinner.gif';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <img\r\n      src={spinner}\r\n      alt=\"Spinner\"\r\n      style={{ width: '200px', margin: 'auto', display: 'block' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","export default \"data:image/gif;base64,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\"","import React, {\r\n  useContext,\r\n  Fragment,\r\n  useState,\r\n  useEffect,\r\n  useRef\r\n} from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport StoreItem from './StoreItem';\r\nimport SearchField from './SearchField';\r\nimport Spinner from '../layout/Spinner.js';\r\nimport { FiXCircle } from 'react-icons/fi';\r\nimport { SearchContext } from '../../contexts/SearchContext';\r\nimport { PathContext } from '../../contexts/PathContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport styled from 'styled-components';\r\n\r\nconst SearchCatalog = () => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [cardName, setCardName] = useState('');\r\n  const [cardNames, setCardNames] = useState([]);\r\n  const [requestSent, setRequestSent] = useState(false);\r\n  const [isOn, setIsOn] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  const { setIsValidLength } = useContext(SearchContext);\r\n\r\n  const { isSubmitted, setIsSubmitted } = useContext(SearchContext);\r\n  const { showSuggestions, setShowSuggestions } = useContext(SearchContext);\r\n  const { searchResult, setSearchResult } = useContext(SearchContext);\r\n  const { setText } = useContext(SearchContext);\r\n  const { sentForm } = useContext(SearchContext);\r\n  // const { searchTerm, setSearchTerm } = useContext(SearchContext);\r\n  const { userStoreContent } = useContext(CardContext);\r\n  const { setTracker } = useContext(CardContext);\r\n  const { path, setPath } = useContext(PathContext);\r\n  const history = useHistory();\r\n\r\n  // ul with card names in autocomplete list\r\n  const listItems = useRef(null);\r\n  // input text for search term\r\n  const searchInput = useRef(null);\r\n  // form\r\n  const form = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('catalogCardName')) {\r\n      if (localStorage.getItem('catalogCardName') === 'all') {\r\n        // fetchAllCards();\r\n      } else {\r\n        // setCards(JSON.parse(localStorage.getItem('storeCards')));\r\n        setCardName(localStorage.getItem('catalogCardName'));\r\n        // console.log('in card name', localStorage.getItem('storeCardName'));\r\n\r\n        fetchSingleCard();\r\n      }\r\n    }\r\n    // setPath(location.pathname.split('/')[1]);\r\n  }, []);\r\n\r\n  // Format name to fit scryfall api's requisite (word+word)\r\n  const sanitizeString = (string) => {\r\n    let sanitized = string.trim();\r\n    sanitized = sanitized.split(' ').join('+');\r\n    // console.log(sanitized);\r\n    return sanitized;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSubmitted && showSuggestions) {\r\n      fetchSingleCard();\r\n      setShowSuggestions(false);\r\n    } else {\r\n      setShowSuggestions(true);\r\n    }\r\n  }, [isSubmitted]);\r\n\r\n  // AUTOCOMPLETE\r\n  useEffect(() => {\r\n    // console.log(searchTerm);\r\n\r\n    if (searchTerm.length < 3) {\r\n      setIsValidLength(false);\r\n    } else if (searchTerm.length > 2) {\r\n      setIsValidLength(true);\r\n      setCardNames([]);\r\n      setLoading(true);\r\n\r\n      const headers = new Headers();\r\n      headers.append('Content-Type', 'application/json');\r\n\r\n      const options = {\r\n        method: 'GET',\r\n        headers: headers\r\n      };\r\n      fetch(`/api/catalog`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setResults(data.data);\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [searchTerm]);\r\n\r\n  useEffect(() => {\r\n    if (results.length > 0) {\r\n      console.log(results);\r\n      const filteredCardNames = [];\r\n\r\n      results.forEach((result) => {\r\n        // Check for a match in name\r\n        // Check for repetition of name: if there's multiple cards in store\r\n        // with the same name, show the name only once in autocomplete list\r\n        if (\r\n          result.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n          !filteredCardNames.includes(result.name)\r\n        ) {\r\n          filteredCardNames.push(result.name);\r\n        }\r\n      });\r\n\r\n      setCardNames(filteredCardNames);\r\n    }\r\n  }, [results]);\r\n\r\n  // Submit search request to backend\r\n  const fetchSingleCard = (e) => {\r\n    if (sentForm !== form.current.id) {\r\n      return;\r\n    }\r\n\r\n    if (!searchTerm) {\r\n      return console.log('Field is empty');\r\n    }\r\n\r\n    let search = '';\r\n\r\n    if (e) {\r\n      e.preventDefault();\r\n      setShowSuggestions(false);\r\n      setIsSubmitted(true);\r\n      search = searchInput.current.value;\r\n    } else if (searchTerm) {\r\n      search = searchTerm;\r\n    } else {\r\n      search = localStorage.getItem('searchCatalog');\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    // headers.append('auth-token', token);\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers\r\n    };\r\n\r\n    fetch(`/api/catalog/${search}`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // localStorage.setItem('searchCatalog', search);\r\n        // localStorage.removeItem('catalogCards');\r\n        // setSearchResult(data.data);\r\n        setLoading(false);\r\n        setSearchTerm('');\r\n        setIsValidLength(false);\r\n        setIsSubmitted(false);\r\n        setText('');\r\n        setTracker(0);\r\n\r\n        if (path !== 'catalog') {\r\n          history.push({\r\n            pathname: `/catalog/${search}`,\r\n            state: { result: data.data }\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  // console.log(path);\r\n  useEffect(() => {\r\n    if (sentForm === 'search-catalog') {\r\n      setIsOn(true);\r\n    } else {\r\n      setIsOn(false);\r\n      setSearchTerm('');\r\n    }\r\n  }, [sentForm]);\r\n\r\n  // Clear search input on page change\r\n  // useEffect(() => {\r\n  //   console.log(path);\r\n  //   // if (path !== 'search-catalog') {\r\n  //   searchInput.current.value = '';\r\n  //   // }\r\n  //   console.log();\r\n  // }, [path]);\r\n  return (\r\n    <Fragment>\r\n      <form\r\n        id=\"search-catalog\"\r\n        className=\"search-catalog\"\r\n        onSubmit={(e) => fetchSingleCard(e)}\r\n        ref={form}\r\n      >\r\n        {!sentForm || sentForm === 'search-catalog' ? (\r\n          <SearchField\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n            setRequestSent={setRequestSent}\r\n            cardNames={cardNames}\r\n            listItems={listItems}\r\n            searchInput={searchInput}\r\n            isOn={isOn}\r\n            form={form}\r\n          />\r\n        ) : (\r\n          <SearchField form={form} />\r\n        )}\r\n      </form>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SearchCatalog;\r\n","// Dropdown menu available after successfull singin\r\nimport React, { Fragment, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext';\r\nfunction AuthMenu({ setDisplay, setUser }) {\r\n  const history = useHistory();\r\n  const { setUnreadMail } = useContext(UserContext);\r\n  const { setCartItems, setItemsCount } = useContext(ShoppingCartContext);\r\n\r\n  const singout = () => {\r\n    localStorage.clear();\r\n    setUser(null);\r\n    setUnreadMail(0);\r\n    setCartItems([]);\r\n    setItemsCount(0);\r\n    history.push('/');\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <li>\r\n        <Link to=\"/store\">Store</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/profile\">Profile</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/settings\">Settings</Link>\r\n      </li>\r\n      <li>\r\n        <div className=\"signout\" onClick={() => singout()}>\r\n          Logout\r\n        </div>\r\n      </li>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default AuthMenu;\r\n","import React, {\r\n  Fragment,\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useRef\r\n} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SearchCatalog from '../views/SearchCatalog';\r\nimport AuthMenu from './AuthMenu';\r\nimport { FiChevronDown } from 'react-icons/fi';\r\nimport { FiShoppingCart } from 'react-icons/fi';\r\nimport { FiMail } from 'react-icons/fi';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Navbar = ({ navCheckBox, searchCheckbox }) => {\r\n  const [display, setDisplay] = useState(true);\r\n  const { user, setUser } = useContext(UserContext);\r\n\r\n  const handleClick = (e) => {\r\n    const checkbox = document.getElementById('nav-toggle');\r\n    checkbox.checked = false;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.checked && searchCheckbox.current.checked) {\r\n      searchCheckbox.current.checked = false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <input\r\n        type=\"checkbox\"\r\n        id=\"nav-toggle\"\r\n        className=\"nav-toggle\"\r\n        ref={navCheckBox}\r\n        onChange={(e) => {\r\n          handleChange(e);\r\n        }}\r\n      />\r\n      <label htmlFor=\"nav-toggle\" className=\"nav-toggle-label\">\r\n        <span></span>\r\n      </label>\r\n      <nav id=\"navbar\" className=\"navbar\">\r\n        <ul className=\"nav--list-items\" onClick={(e) => handleClick(e)}>\r\n          {!user ? (\r\n            <Fragment>\r\n              <li>\r\n                <Link to=\"/login\">Login</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/register\">Register</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/about\">About</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/contact\">Contact</Link>\r\n              </li>\r\n            </Fragment>\r\n          ) : (\r\n            <Fragment>\r\n              {display ? (\r\n                <AuthMenu setDisplay={setDisplay} setUser={setUser} />\r\n              ) : (\r\n                ''\r\n              )}\r\n            </Fragment>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, {\r\n  useRef,\r\n  Fragment,\r\n  useState,\r\n  useEffect,\r\n  useContext\r\n} from 'react';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport Navbar from './Navbar';\r\nimport AuthMenu from './AuthMenu';\r\nimport SearchCatalog from '../views/SearchCatalog';\r\nimport { FiMail } from 'react-icons/fi';\r\nimport { FiShoppingCart } from 'react-icons/fi';\r\nimport { FiChevronDown } from 'react-icons/fi';\r\nimport { FiSearch } from 'react-icons/fi';\r\nimport { RouteContext } from '../../contexts/RouteContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Header = () => {\r\n  const location = useLocation();\r\n  const navCheckBox = useRef(null);\r\n  const searchCheckbox = useRef(null);\r\n  const { notFound } = useContext(RouteContext);\r\n  const { user, unreadMail } = useContext(UserContext);\r\n  const { itemsCount } = useContext(ShoppingCartContext);\r\n  const handleChange = (e) => {\r\n    if (e.target.checked && navCheckBox.current.checked) {\r\n      navCheckBox.current.checked = false;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    navCheckBox.current.checked = false;\r\n    searchCheckbox.current.checked = false;\r\n  }, [location]);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"section--logo\">\r\n        <h1 className=\"logo\">\r\n          <Link to=\"/\">Magic Find</Link>\r\n        </h1>\r\n      </div>\r\n      {!notFound && (\r\n        <Navbar navCheckBox={navCheckBox} searchCheckbox={searchCheckbox} />\r\n      )}\r\n\r\n      <div className=\"section--icons\">\r\n        {user && (\r\n          <Mail className=\"section--mail padding-right\">\r\n            <Link to=\"/mail/inbox\" title=\"Mailbox\">\r\n              {unreadMail > 0 && (\r\n                <UnreadContainer>\r\n                  <Unread>{unreadMail}</Unread>\r\n                </UnreadContainer>\r\n              )}\r\n              <FiMail className=\"header--icon\" size={27} />\r\n            </Link>\r\n          </Mail>\r\n        )}\r\n        <div className=\"section--search padding-right\">\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"search-toggle\"\r\n            className=\"search-toggle\"\r\n            ref={searchCheckbox}\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n          />\r\n          <label htmlFor=\"search-toggle\" className=\"search-toggle-label\">\r\n            <FiSearch\r\n              className=\"header--icon\"\r\n              size={27}\r\n              title=\"Search Catalog\"\r\n            />\r\n          </label>\r\n          <div className=\"section searchbar\">\r\n            <SearchCatalog className=\"section searchbar\" />\r\n          </div>\r\n        </div>\r\n        <Cart className=\"section--cart padding-right\">\r\n          <Link to=\"/cart\">\r\n            {itemsCount > 0 && (\r\n              <CountContainer>\r\n                <Count>{itemsCount}</Count>\r\n              </CountContainer>\r\n            )}\r\n            <FiShoppingCart size={27} title=\"Shopping Cart\" />\r\n          </Link>\r\n        </Cart>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst CountContainer = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: -10px;\r\n  left: 17px;\r\n  background: #dc3545;\r\n  width: 22px;\r\n  height: 22px;\r\n  border-radius: 50%;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Count = styled.div`\r\n  text-align: center;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  color: #fff;\r\n`;\r\n\r\nconst Cart = styled.div`\r\n  position: relative;\r\n`;\r\nconst Mail = styled.div`\r\n  position: relative;\r\n`;\r\nconst UnreadContainer = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: -10px;\r\n  left: 17px;\r\n  background: #28a745;\r\n  width: 22px;\r\n  height: 22px;\r\n  border-radius: 50%;\r\n  z-index: 10;\r\n`;\r\nconst Unread = styled.div`\r\n  text-align: center;\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  color: #fff;\r\n`;\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div>\r\n        Magic Find &bull; Copyright &copy; 2022 &bull; All Rights Reserved\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useContext } from 'react';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst Home = () => {\r\n  const { user } = useContext(UserContext);\r\n\r\n  console.log(user);\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">Home</h2>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\n\r\nconst Contact = () => {\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">Contact</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import React from 'react';\r\n\r\nconst About = () => {\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">About</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React, { useContext } from 'react';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst Profile = () => {\r\n  const { user } = useContext(UserContext);\r\n\r\n  console.log(user);\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">Profile</h2>\r\n      <div>{user.name}</div>\r\n      <div>{user.country}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { FiArrowRightCircle } from 'react-icons/fi';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst UserPage = () => {\r\n  const { user } = useContext(UserContext);\r\n\r\n  const [storeView, setStoreView] = useState(false);\r\n  const [cardsView, setCardsView] = useState(false);\r\n  const history = useHistory();\r\n  // const toggleView = (view) => {\r\n  //   if (view === 'store') {\r\n  //     cardsView && setCardsView(false);\r\n  //     setStoreView(true);\r\n  //   } else {\r\n  //     storeView && setStoreView(false);\r\n  //     setCardsView(true);\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <main className=\"user-page-container\">\r\n      <Link to=\"/store\">\r\n        <section className=\"user-page-section to-store\">\r\n          <h2>Manage Your Store</h2>\r\n          <article>\r\n            <p>Go to your to your store to modify it's content.</p>\r\n            <p>\r\n              You can add or remove a card. You can also modify the information\r\n              of existing cards.\r\n            </p>\r\n          </article>\r\n        </section>\r\n      </Link>\r\n      <Link to=\"/search-api\">\r\n        <section className=\"user-page-section  to-addcard\">\r\n          <h2>Add A New Card</h2>\r\n          <article>\r\n            <p>\r\n              Search the Skyfall API for a specific card you wish to sell. You\r\n              can set the condition, the quantity you want to sell and the price\r\n              you wish to ask. You can also leave a comment to propestive\r\n              buyers.\r\n            </p>\r\n            <p>Selling and buying cards as never been so easy!</p>\r\n          </article>\r\n        </section>\r\n      </Link>\r\n      <Link to=\"/profile\">\r\n        <section className=\"user-page-section  to-profile\">\r\n          <h2>Modify Your Profile</h2>\r\n          <article>\r\n            <p>This section is under currently under development.</p>\r\n          </article>\r\n        </section>\r\n      </Link>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n\r\n//  <h1>Welcome to Magic Find</h1>\r\n//       <div>\r\n//         <button onClick={() => history.push({ pathname: '/store' })}>\r\n//           Search Store\r\n//         </button>\r\n//         <button onClick={() => history.push({ pathname: '/search-api' })}>\r\n//           Search API\r\n//         </button>\r\n//       </div>\r\n","import React, {\r\n  useContext,\r\n  Fragment,\r\n  useState,\r\n  useEffect,\r\n  useRef\r\n} from 'react';\r\nimport { useLocation, useHistory, useParams } from 'react-router-dom';\r\nimport StoreItem from './StoreItem';\r\nimport SearchField from './SearchField';\r\nimport Spinner from '../layout/Spinner.js';\r\nimport { FiXCircle, FiChevronRight, FiChevronDown } from 'react-icons/fi';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { SearchContext } from '../../contexts/SearchContext';\r\nimport { PathContext } from '../../contexts/PathContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport styled from 'styled-components';\r\n\r\nconst SearchStore = () => {\r\n  const [cards, setCards] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [setRemoveCard] = useState(false);\r\n  const [setModifyCard] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [cardName, setCardName] = useState('');\r\n  const [cardNames, setCardNames] = useState([]);\r\n  const [requestSent, setRequestSent] = useState(false);\r\n  const [isOn, setIsOn] = useState(false);\r\n  const { setIsValidLength } = useContext(SearchContext);\r\n\r\n  const { user } = useContext(UserContext);\r\n  const { isSubmitted, setIsSubmitted } = useContext(SearchContext);\r\n  const { showSuggestions, setShowSuggestions } = useContext(SearchContext);\r\n  const { setText } = useContext(SearchContext);\r\n  // const { searchTerm, setSearchTerm } = useContext(SearchContext);\r\n  const { sentForm } = useContext(SearchContext);\r\n  const { userStoreContent } = useContext(CardContext);\r\n  const { setTracker } = useContext(CardContext);\r\n  const { setPath } = useContext(PathContext);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  // ul with card names in autocomplete list\r\n  const listItems = useRef(null);\r\n  // input text for search term\r\n  const searchInput = useRef(null);\r\n  // form\r\n  const form = useRef(null);\r\n\r\n  const params = useParams();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('storeCardName')) {\r\n      if (localStorage.getItem('storeCardName') === 'all') {\r\n        fetchAllCards();\r\n      } else {\r\n        // setCards(JSON.parse(localStorage.getItem('storeCards')));\r\n        setCardName(localStorage.getItem('storeCardName'));\r\n        console.log('in card name', localStorage.getItem('storeCardName'));\r\n\r\n        fetchSingleCard();\r\n      }\r\n    }\r\n    setPath(location.pathname.split('/')[1]);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchInput.current) {\r\n      if (isSubmitted && showSuggestions) {\r\n        // Call request function to fetch resulst from card name\r\n        fetchSingleCard();\r\n        // Set the focus on input search field\r\n        searchInput.current.focus();\r\n        setShowSuggestions(false);\r\n      } else {\r\n        setShowSuggestions(true);\r\n      }\r\n    }\r\n  }, [isSubmitted]);\r\n\r\n  // AUTOCOMPLETE\r\n  useEffect(() => {\r\n    // console.log(searchTerm);\r\n\r\n    if (searchTerm.length < 3) {\r\n      setIsValidLength(false);\r\n    } else if (searchTerm.length > 2) {\r\n      setIsValidLength(true);\r\n\r\n      const filteredCardNames = [];\r\n      if (userStoreContent) {\r\n        userStoreContent.forEach((item) => {\r\n          // Check for a match in name\r\n          // Check for repetition of name: if there's multiple cards in store\r\n          // with the same name, show the name only once in autocomplete list\r\n          if (\r\n            item.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n            !filteredCardNames.includes(item.name)\r\n          ) {\r\n            filteredCardNames.push(item.name);\r\n          }\r\n        });\r\n      }\r\n\r\n      setCardNames(filteredCardNames);\r\n      // console.log(filteredCardNames);\r\n    }\r\n  }, [searchTerm]);\r\n\r\n  const capitalize = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.substring(1);\r\n  };\r\n\r\n  // Instore single card request search field with\r\n  // cardname (searchTerm) and user id\r\n  const fetchSingleCard = (e) => {\r\n    // bounce back if sent form does not match current form's id\r\n    // This block other forms in the view to process the request down below\r\n    // if (sentForm !== form.current.id) {\r\n    //   return console.log('wrong form');\r\n    // }\r\n\r\n    // if (!searchTerm || searchTerm.length < 3) {\r\n    //   return console.log('Search term is incomplete');\r\n    // }\r\n\r\n    let search = '';\r\n\r\n    if (e) {\r\n      // console.log('in submit');\r\n      e.preventDefault();\r\n      setShowSuggestions(false);\r\n      setIsSubmitted(true);\r\n      search = searchInput.current.value;\r\n    } else if (searchTerm) {\r\n      search = searchTerm;\r\n    } else {\r\n      search = localStorage.getItem('storeCardName');\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    // Set request headers\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers\r\n    };\r\n\r\n    fetch(`/api/cards/${search}/${user.id}`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // localStorage.setItem('storeCards', JSON.stringify(data.data));\r\n        search && localStorage.setItem('storeCardName', search);\r\n        setCards(data.data);\r\n        setCardNames([]);\r\n        setCardName(search);\r\n        setLoading(false);\r\n        setSearchTerm('');\r\n        setIsValidLength(false);\r\n        setIsSubmitted(false);\r\n        setText('');\r\n        setTracker(0);\r\n        search = '';\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  // Get all cards from user store\r\n  const fetchAllCards = () => {\r\n    setLoading(true);\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n    const options = {\r\n      method: 'GET',\r\n      headers: headers\r\n    };\r\n    fetch(`/api/cards/${user.id}`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // localStorage.setItem('storeCards', JSON.stringify(data.data));\r\n        localStorage.setItem('storeCardName', 'all');\r\n        setCards(data.data);\r\n        setCardName('Store Cards:');\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(false);\r\n  }, [cards]);\r\n\r\n  const handleClick = (e) => {\r\n    history.push('search-api');\r\n    if (localStorage.getItem('apiCardName')) {\r\n      localStorage.removeItem('apiCardName');\r\n      localStorage.removeItem('oracle');\r\n    }\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setCards([]);\r\n    setCardName('');\r\n    localStorage.removeItem('storeCards');\r\n    localStorage.removeItem('storeCardName');\r\n  };\r\n  useEffect(() => {\r\n    if (sentForm === 'search-store') {\r\n      setIsOn(true);\r\n    } else {\r\n      setIsOn(false);\r\n      setSearchTerm('');\r\n    }\r\n  }, [sentForm]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <h2 className=\"page-title\">Enter A Card Name</h2>\r\n\r\n      <form id=\"search-store\" onSubmit={(e) => fetchSingleCard(e)} ref={form}>\r\n        {!sentForm || sentForm === 'search-store' ? (\r\n          <SearchField\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n            setRequestSent={setRequestSent}\r\n            cardNames={cardNames}\r\n            listItems={listItems}\r\n            searchInput={searchInput}\r\n            isOn={isOn}\r\n            form={form}\r\n          />\r\n        ) : (\r\n          <SearchField form={form} />\r\n        )}\r\n      </form>\r\n      <Buttons>\r\n        <Button\r\n          onClick={(e) => {\r\n            handleClick(e);\r\n          }}\r\n        >\r\n          Add Cards To Store\r\n        </Button>\r\n        <Button\r\n          onClick={(e) => {\r\n            fetchAllCards();\r\n          }}\r\n        >\r\n          Show Cards In Store\r\n        </Button>\r\n      </Buttons>\r\n\r\n      <div className=\"store-search-results\">\r\n        {loading || !cards ? (\r\n          <Spinner />\r\n        ) : (\r\n          <Fragment>\r\n            {cardName && (\r\n              <header className=\"search-header\">\r\n                <span>\r\n                  {`${cardName.charAt(0).toUpperCase()}${cardName\r\n                    .substring(1)\r\n                    .toLowerCase()} ${cards.length} \r\n              ` + (cards.length > 1 ? 'Results' : 'Result')}\r\n                </span>\r\n                <div\r\n                  className=\"clear-search\"\r\n                  onClick={() => clearSearch()}\r\n                ></div>\r\n              </header>\r\n            )}\r\n            <div className=\"catalog-items\">\r\n              {cards.map((card) => {\r\n                return (\r\n                  <StoreItem\r\n                    key={card._id}\r\n                    card={card}\r\n                    setRemoveCard={setRemoveCard}\r\n                    setModifyCard={setModifyCard}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  margin-top: 1em;\r\n  border: 1px solid #e4e4e4;\r\n  background: #fff;\r\n  color: #333;\r\n  font-size: 1rem;\r\n  padding: 1em 0;\r\n  border-radius: 0.5em;\r\n\r\n  svg {\r\n    display: block;\r\n    margin-left: 1em;\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n  }\r\n\r\n  &:hover {\r\n    border: 1px solid #333;\r\n  }\r\n\r\n  @media (max-width: 320px) {\r\n    width: 100%;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n\r\nexport default SearchStore;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport { PathContext } from '../../contexts/PathContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Card = ({ card }) => {\r\n  const [listings, setListings] = useState(0);\r\n  const { setCardContext } = useContext(CardContext);\r\n  const history = useHistory();\r\n\r\n  const handleClick = () => {\r\n    setCardContext(true);\r\n    // localStorage.setItem('card', true);\r\n\r\n    history.push({\r\n      pathname: `/add-card/${card.name.toLowerCase()}`,\r\n      state: { detail: card }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"item-container\">\r\n      <div className=\"item-info\">\r\n        <div className=\"item-image\">\r\n          <img id=\"item-image\" src={card.image_uris && card.image_uris.png} />\r\n        </div>\r\n\r\n        <div className=\"item-details\">\r\n          <p>\r\n            <strong>{card.set_name}</strong>\r\n          </p>\r\n\r\n          <p>\r\n            <strong>\r\n              {card.rarity} &bull; #{card.collector_number}\r\n            </strong>\r\n          </p>\r\n          <p>\r\n            <strong>{card.set_name}</strong>\r\n          </p>\r\n          {card.prices.usd ? (\r\n            <p>\r\n              Market Price: <strong>${card.prices.usd}</strong>\r\n            </p>\r\n          ) : (\r\n            <p>Market Price: Unavailable</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"item-buttons push-right\">\r\n        <button className=\"item-button success\" onClick={() => handleClick()}>\r\n          Select Card\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, {\r\n  Fragment,\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  useRef\r\n} from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Card from './Card';\r\nimport SearchField from './SearchField';\r\nimport Spinner from '../layout/Spinner';\r\nimport { FiXCircle } from 'react-icons/fi';\r\nimport { SearchContext } from '../../contexts/SearchContext';\r\nimport { PathContext } from '../../contexts/PathContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Search = () => {\r\n  // const [cardName, setCardName] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [oracleID, setOracleID] = useState('');\r\n  const [requestSent, setRequestSent] = useState(false);\r\n  const [cardName, setCardName] = useState('');\r\n  const [cardNames, setCardNames] = useState([]);\r\n  const [isOn, setIsOn] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  // const { searchTerm, setSearchTerm } = useContext(SearchContext);\r\n  const [cards, setCards] = useState([]);\r\n  const { isSubmitted, setIsSubmitted } = useContext(SearchContext);\r\n  const { setIsValidLength } = useContext(SearchContext);\r\n  const { setText } = useContext(SearchContext);\r\n  const { sentForm } = useContext(SearchContext);\r\n  const { apiCardNames } = useContext(CardContext);\r\n  const { setTracker } = useContext(CardContext);\r\n\r\n  const { path, setPath } = useContext(PathContext);\r\n  const location = useLocation();\r\n\r\n  // ul with card names in autocomplete list\r\n  const listItems = useRef(null);\r\n  // input text for search term\r\n  const searchInput = useRef(null);\r\n  // form\r\n  const form = useRef(null);\r\n\r\n  // Format name to fit scryfall api's requisite (word+word)\r\n  const sanitizeString = (string) => {\r\n    let sanitized = string.trim();\r\n    sanitized = sanitized.split(' ').join('+');\r\n    // console.log(sanitized);\r\n    return sanitized;\r\n  };\r\n\r\n  const fetchSingleCard = (e) => {\r\n    // bounce back if sent form does not match current form's id\r\n    // This block other forms in the view to process the request down below\r\n    if (sentForm !== form.current.id) {\r\n      return;\r\n    }\r\n\r\n    let searching = '';\r\n    setOracleID('');\r\n\r\n    if (!searchTerm || searchTerm.length < 3) {\r\n      return console.log('Search term is incomplete');\r\n    } else {\r\n      searching = searchTerm;\r\n    }\r\n\r\n    // If fetchSingleCard is called on submit.\r\n    // Enter key was pressed.\r\n    // Value sent can come from a complete card name entered by the user\r\n    // Or a complete card name send with autocomplete\r\n    // Or an incomplete field value\r\n    if (e) {\r\n      e.preventDefault();\r\n\r\n      // Check if searchTerm is an existing card\r\n      // If searchTerm is written by user\r\n      let foundName = apiCardNames.filter((name) => {\r\n        return name.toLowerCase() === searchTerm.toLowerCase();\r\n      });\r\n\r\n      // When searchTerm was typed by user\r\n      if (foundName.length > 0) {\r\n        // setSearching(foundName[0]);\r\n        // Set search card name to local storage\r\n        // localStorage.setItem(\r\n        //   'search',\r\n        //   `${searchTerm.charAt(0).toUpperCase()}${searchTerm.substring(1)}`\r\n        // );\r\n        setIsSubmitted(true);\r\n        searching = searchTerm;\r\n\r\n        // Else request is sent with autofill result\r\n        // from arrow up or/and down feature.\r\n        // searchTerm is incomplete in this case.\r\n        // searchInput should contain the autocompleted result\r\n      } else {\r\n        searching = searchInput.current.value;\r\n      }\r\n    }\r\n    // setLoading(true);\r\n    // console.log(sanitizeString(searchTerm));\r\n    const headers = { method: 'GET' };\r\n    fetch(\r\n      `https://api.scryfall.com/cards/named?exact=${sanitizeString(searching)}`,\r\n      headers\r\n    )\r\n      // https://api.scryfall.com/cards/search?order=released&q=oracleid%3A0c2841bb-038c-4fbf-8360-bc0a1522b58d&unique=prints\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        localStorage.setItem('oracle', data.oracle_id);\r\n        localStorage.setItem('apiCardName', data.name);\r\n        // Reset cardNames state to empty array\r\n        setCardNames([]);\r\n        setCardName(data.name);\r\n        setOracleID(data.oracle_id);\r\n\r\n        setSearchTerm('');\r\n        setIsValidLength(false);\r\n        setIsSubmitted(false);\r\n        setTracker(0);\r\n        setText('');\r\n        // setLoading(false);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  // Filter through card result from api and\r\n  // remove online versions\r\n  const filterData = (cards) => {\r\n    let word = 'online';\r\n    return cards.filter((card) => {\r\n      return !card.set_name.toLowerCase().includes(word);\r\n    });\r\n  };\r\n  // console.log(path);\r\n  // Get all cards name for autocomplete feature @ components/views/SearchField\r\n  useEffect(() => {\r\n    // if coming from add-card view\r\n    if (\r\n      path === 'add-card' ||\r\n      location.pathname.split('/')[1] === 'search-api'\r\n    ) {\r\n      // set oracleID and cardName to repopulate search-api view\r\n      // with matching card prints\r\n      // Oracle id is needed for skryfall search api\r\n      // setCardName(localStorage.getItem('card-name'));\r\n      setOracleID(localStorage.getItem('oracle'));\r\n      setCardName(localStorage.getItem('apiCardName'));\r\n      // setLoading(false);\r\n    } else {\r\n      setOracleID('');\r\n      setCardName('');\r\n    }\r\n    if (searchInput.current) {\r\n      searchInput.current.value = '';\r\n    }\r\n    setPath(location.pathname.split('/')[1]);\r\n  }, [path]);\r\n\r\n  // On searchTerm state change,\r\n  // Check if length of searchTerm is 3 or more.\r\n  // If so, isValidLeangth becomes true & filter cardNames to match searcTerm\r\n  // Card names array gets populated with filtered results.\r\n  useEffect(() => {\r\n    if (searchTerm.length > 2) {\r\n      setIsValidLength(true);\r\n      setCardNames([]);\r\n      const filteredNames = apiCardNames.filter((name) => {\r\n        return name.toLowerCase().includes(searchTerm.toLowerCase());\r\n      });\r\n      console.log(filteredNames);\r\n      setCardNames(filteredNames);\r\n    } else if (searchTerm.length < 3) {\r\n      setIsValidLength(false);\r\n    }\r\n  }, [searchTerm]);\r\n\r\n  // isSubmitted is set in Suggesions Component\r\n  // on click of li element\r\n  useEffect(() => {\r\n    if (isSubmitted) {\r\n      // Call request function to fetch resulst from card name\r\n      fetchSingleCard();\r\n      // Set the focus on input search field\r\n      if (searchInput.current) {\r\n        searchInput.current.focus();\r\n      }\r\n    }\r\n  }, [isSubmitted]);\r\n\r\n  // Fetch call triggered when oracleID state changes in fetchSingleCard function\r\n  useEffect(() => {\r\n    if (oracleID) {\r\n      setLoading(true);\r\n\r\n      const headers = { method: 'GET' };\r\n      fetch(\r\n        `https://api.scryfall.com/cards/search?order=released&q=oracleid%3A${oracleID}&unique=prints`,\r\n        headers\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          // Filter data to remove online versions of searched card\r\n          setCards(filterData(data.data));\r\n\r\n          setRequestSent(true);\r\n          // console.log(data.data);\r\n          localStorage.setItem('apiCards', JSON.stringify(data.data));\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [oracleID]);\r\n\r\n  const clearSearch = () => {\r\n    setCards([]);\r\n    setCardName('');\r\n    setOracleID('');\r\n    localStorage.removeItem('oracle');\r\n    localStorage.removeItem('apiCardName');\r\n    localStorage.removeItem('apiCards');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (sentForm === 'search-api') {\r\n      setIsOn(true);\r\n    } else {\r\n      setIsOn(false);\r\n      setSearchTerm('');\r\n    }\r\n  }, [sentForm]);\r\n  return (\r\n    <Fragment>\r\n      <h2 className=\"page-title\">Enter A Card Name</h2>\r\n\r\n      <form id=\"search-api\" onSubmit={(e) => fetchSingleCard(e)} ref={form}>\r\n        {!sentForm || sentForm === 'search-api' ? (\r\n          <SearchField\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n            listItems={listItems}\r\n            searchInput={searchInput}\r\n            setRequestSent={setRequestSent}\r\n            requestSent={requestSent}\r\n            isOn={isOn}\r\n            form={form}\r\n            cardNames={cardNames}\r\n          />\r\n        ) : (\r\n          <SearchField form={form} />\r\n        )}\r\n      </form>\r\n      <div>\r\n        {loading || !cards ? (\r\n          <Spinner />\r\n        ) : (\r\n          <Fragment>\r\n            {oracleID && (\r\n              <header className=\"search-header\">\r\n                <span>\r\n                  {`${cardName.charAt(0).toUpperCase()}${cardName\r\n                    .substring(1)\r\n                    .toLowerCase()} ${cards.length} \r\n              ` + (cards.length > 1 ? 'Results' : 'Result')}\r\n                </span>\r\n                <div className=\"clear-search\" onClick={() => clearSearch()}>\r\n                  <FiXCircle size={22} />\r\n                </div>\r\n              </header>\r\n            )}\r\n            <div className=\"catalog-items\">\r\n              {cards.map((card, index) => {\r\n                return <Card key={index} card={card} />;\r\n              })}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst Icon = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 6%;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst SearchResults = styled.div``;\r\nexport default Search;\r\n","import React, {\r\n  Fragment,\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  useReducer\r\n} from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { FiPlusCircle, FiMinusCircle, FiTrash2 } from 'react-icons/fi';\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport styled from 'styled-components';\r\n\r\nconst CatalogItem = ({ card }) => {\r\n  const [quantity, setQuantity] = useState(1 || card.quantity_selected);\r\n  const [isSelectedItem, setIsSelectedItem] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const { user } = useContext(UserContext);\r\n  const { cartItems, setCartItems, itemsCount, setItemsCount } =\r\n    useContext(ShoppingCartContext);\r\n  const location = useLocation();\r\n  const handleClick = (e) => {\r\n    if (e.currentTarget.id === 'add') {\r\n      if (quantity < card.quantity) {\r\n        setQuantity(parseInt(quantity) + 1);\r\n      }\r\n    } else if (e.currentTarget.id === 'remove' && quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n    }\r\n  };\r\n\r\n  const trashItem = (card) => {\r\n    setIsSelectedItem(false);\r\n    setQuantity(1);\r\n    card.quantity_selected = 0;\r\n\r\n    const items = [...cartItems];\r\n\r\n    items.forEach((item, index) => {\r\n      if (item._id === card._id) {\r\n        items.splice(index, 1);\r\n      }\r\n    });\r\n    setCartItems(items);\r\n    localStorage.setItem('shopping-cart', JSON.stringify(items));\r\n  };\r\n\r\n  // Add & Update items in cart\r\n  const updateCart = (card) => {\r\n    if (card.quantity_selected === quantity) {\r\n      return console.log('no change in quantity');\r\n    }\r\n    const foundItem = cartItems.find((item) => {\r\n      return item._id === card._id;\r\n    });\r\n\r\n    setLoading(true);\r\n\r\n    const options = {\r\n      method: 'GET',\r\n      header: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    fetch(\r\n      `/api/catalog/${card.name}/${card._id}/${card.quantity_selected}`,\r\n      options\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setLoading(false);\r\n        console.log(data);\r\n        if (!data.data.isQuantityAvailable) {\r\n          card.quantity = data.card.quantity;\r\n          foundItem.quantity = data.card.quantity;\r\n          card.quantity = data.card.quantity;\r\n          const items = [...cartItems];\r\n          setCartItems(items);\r\n          // Send error message\r\n        } else {\r\n          if (!foundItem) {\r\n            card.quantity_selected = quantity;\r\n            setCartItems((cartItems) => [...cartItems, card]);\r\n          } else {\r\n            const selectedItem = cartItems.find((item) => {\r\n              return item._id === card._id;\r\n            });\r\n\r\n            selectedItem.quantity_selected = quantity;\r\n\r\n            const items = [...cartItems];\r\n            setCartItems(items);\r\n          }\r\n        }\r\n      });\r\n\r\n    setIsSelectedItem(true);\r\n  };\r\n\r\n  const isSelected = (item) => {\r\n    let selected = false;\r\n\r\n    const itemFound = cartItems.find((cartItem) => {\r\n      return cartItem._id === item._id;\r\n    });\r\n\r\n    if (itemFound) {\r\n      card.quantity_selected = itemFound.quantity_selected;\r\n      selected = true;\r\n    }\r\n    return selected;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const foundItem = cartItems.find((item) => {\r\n      return item._id === card._id;\r\n    });\r\n\r\n    if (foundItem) {\r\n      console.log('foundItem', foundItem);\r\n      setIsSelectedItem(true);\r\n      setQuantity(foundItem.quantity_selected);\r\n    }\r\n  }, [location]);\r\n\r\n  return (\r\n    <div className={loading ? 'item-container loading' : 'item-container'}>\r\n      <Fragment>\r\n        <div className=\"item-info\">\r\n          <div className=\"item-image\">\r\n            <img id=\"item-image\" src={card.image_uris && card.image_uris.png} />\r\n          </div>\r\n\r\n          <div className=\"item-details\">\r\n            <p>\r\n              <strong>{card.set_name}</strong>\r\n            </p>\r\n            <p>\r\n              Condition: <strong>{card.condition.toUpperCase()}</strong>\r\n            </p>\r\n\r\n            <p>\r\n              Seller: <strong>{card.userName}</strong>\r\n            </p>\r\n            <p>\r\n              Ships From: <strong>{card.userCountry}</strong>\r\n            </p>\r\n            <p>\r\n              {' '}\r\n              Price: <strong>${card.price}</strong>\r\n            </p>\r\n            <p>\r\n              Available: <strong>{card.quantity}</strong>\r\n            </p>\r\n            {user && (\r\n              <Contact\r\n                to={{\r\n                  pathname: '/mail/message',\r\n                  state: { sender: card.userName, subject: card.name }\r\n                }}\r\n              >\r\n                Contact Seller\r\n              </Contact>\r\n            )}\r\n            <Selected\r\n              className=\"item-cart\"\r\n              style={{\r\n                border: card.quantity_selected ? '1px solid #e4e4e4' : ''\r\n              }}\r\n            >\r\n              {isSelectedItem && isSelected(card) && (\r\n                <Fragment>\r\n                  <p>{card.quantity_selected} in Cart</p>\r\n\r\n                  <FiTrash2\r\n                    onClick={() => {\r\n                      trashItem(card);\r\n                    }}\r\n                    size={20}\r\n                    title=\"Remove Item\"\r\n                  />\r\n                </Fragment>\r\n              )}\r\n            </Selected>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"item-buttons\">\r\n          <div className=\"item-quantity\">\r\n            <div\r\n              className=\"add-remove-button\"\r\n              id=\"remove\"\r\n              onClick={(e) => {\r\n                handleClick(e);\r\n              }}\r\n            >\r\n              <FiMinusCircle size={23} />\r\n            </div>\r\n            <input type=\"text\" id=\"quantity\" name=\"quantity\" value={quantity} />\r\n            <div\r\n              className=\"add-remove-button\"\r\n              id=\"add\"\r\n              onClick={(e) => {\r\n                handleClick(e);\r\n              }}\r\n            >\r\n              <FiPlusCircle size={23} />\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"item-button success\"\r\n            onClick={() => updateCart(card)}\r\n          >\r\n            {isSelectedItem ? 'Update Cart' : 'Add To Cart'}\r\n          </button>\r\n        </div>\r\n      </Fragment>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SpinnerContainer = styled.div``;\r\n\r\nconst Selected = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 4vh;\r\n  padding: 0 0.5em;\r\n  margin-top: 0.5em;\r\n  font-size: 0.9rem;\r\n\r\n  svg {\r\n    width: 1.5em;\r\n    heigth: 1.5em;\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Contact = styled(Link)`\r\n  padding: 0.5em;\r\n  margin-top: 0.5em;\r\n  color: red;\r\n  border: 1px solid #e4e4e4;\r\n`;\r\n\r\nexport default CatalogItem;\r\n","import React, { useContext, Fragment, useState, useEffect } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport CatalogItem from './CatalogItem';\r\nimport Spinner from '../layout/Spinner.js';\r\nimport { FiXCircle } from 'react-icons/fi';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst Catalog = () => {\r\n  const [isOn, setIsOn] = useState(false);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [isSelectedItem, setIsSelectedItem] = useState(false);\r\n  const location = useLocation();\r\n  const { search } = useParams();\r\n  const result = location.state.result;\r\n\r\n  useEffect(() => {\r\n    setIsOn(true);\r\n  }, [location]);\r\n\r\n  const clearSearch = () => {\r\n    setIsOn(false);\r\n  };\r\n  return (\r\n    <div>\r\n      {isOn ? (\r\n        <Fragment>\r\n          <h2 className=\"page-title\">Search Results</h2>\r\n          <div className=\"search-header\">\r\n            <span>\r\n              {`${search.charAt(0).toUpperCase()}${search\r\n                .substring(1)\r\n                .toLowerCase()} ${result.length} \r\n              ` + (result.length > 1 ? 'Results' : 'Result')}\r\n            </span>\r\n            <div className=\"clear-search\" onClick={() => clearSearch()}></div>\r\n          </div>\r\n\r\n          <div className=\"catalog-items\">\r\n            {result.map((card, index) => {\r\n              return <CatalogItem key={index} card={card} />;\r\n            })}\r\n          </div>\r\n        </Fragment>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n","import React, { Fragment, useState, useEffect, useContext } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { FiPlusCircle, FiMinusCircle, FiArrowLeftCircle } from 'react-icons/fi';\r\n\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport { PathContext } from '../../contexts/PathContext';\r\nimport styled from 'styled-components';\r\n\r\nconst CardListing = ({ card, setIsSent }) => {\r\n  const location = useLocation();\r\n  const [cardCondition, setCardCondition] = useState('nm');\r\n  const [cardLanguage, setCardLanguage] = useState('en');\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [cardPrice, setCardPrice] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const { setCardContext } = useContext(CardContext);\r\n  const { path, setPath } = useContext(PathContext);\r\n\r\n  useEffect(() => {\r\n    setPath(location.pathname.split('/')[1]);\r\n  }, []);\r\n\r\n  const capitalize = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    if (e.currentTarget.id === 'add') {\r\n      setQuantity(parseInt(quantity) + 1);\r\n    } else if (e.currentTarget.id === 'remove' && quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n    }\r\n  };\r\n\r\n  const clearFields = () => {\r\n    setCardCondition('');\r\n    setCardLanguage('');\r\n    setQuantity('');\r\n    setCardPrice('');\r\n    setComment('');\r\n  };\r\n\r\n  // If current view is modify-card\r\n  useEffect(() => {\r\n    if (path === 'modify-card') {\r\n      setCardCondition(card.condition);\r\n      setCardLanguage(card.language);\r\n      setQuantity(card.quantity);\r\n      setCardPrice(card.price);\r\n      setComment(card.comment);\r\n    }\r\n  }, [path]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <h2>Product Details</h2>\r\n      <header className=\"search-header\">\r\n        {path === 'add-card' ? (\r\n          <GoBack to={'/search-api'} title=\"Back To Search\">\r\n            <BackIcon>\r\n              <FiArrowLeftCircle size={26} />\r\n            </BackIcon>\r\n            <BackText>Back to Search</BackText>\r\n          </GoBack>\r\n        ) : (\r\n          <GoBack to={'/store'} title=\"Back To Store\">\r\n            <BackIcon>\r\n              <FiArrowLeftCircle size={26} />\r\n            </BackIcon>\r\n            <BackText>Back to Store</BackText>\r\n          </GoBack>\r\n        )}\r\n\r\n        <span>\r\n          {`${card.name.charAt(0).toUpperCase()}${card.name\r\n            .substring(1)\r\n            .toLowerCase()}`}\r\n        </span>\r\n      </header>\r\n\r\n      <div className=\"item-container\">\r\n        <div className=\"item-info\">\r\n          <div className=\"item-image\">\r\n            <img id=\"item-image\" src={card.image_uris && card.image_uris.png} />\r\n          </div>\r\n\r\n          <div className=\"item-details\">\r\n            {path === 'add-card' ? (\r\n              <Fragment>\r\n                <p>\r\n                  <strong>Name</strong>: {card.name}\r\n                </p>\r\n                <p>\r\n                  <strong>Market Price</strong>: ${card.prices.usd} USD\r\n                </p>\r\n                <p>\r\n                  <strong>Foil</strong>: {card.foil ? 'Yes' : 'No'}\r\n                </p>\r\n                <p>\r\n                  <strong>Type</strong>: {card.type_line}\r\n                </p>\r\n                <p>\r\n                  <strong>Set</strong>: {card.set_name}\r\n                </p>\r\n                <p>\r\n                  <strong>Rarity</strong>: {capitalize(card.rarity)}\r\n                </p>\r\n                <p>\r\n                  <strong>Year</strong>: {card.frame}\r\n                </p>\r\n              </Fragment>\r\n            ) : (\r\n              <Fragment>\r\n                <p>\r\n                  <strong>Name</strong>: {card.name}\r\n                </p>\r\n                <p>\r\n                  <strong>Asking Price</strong>: ${card.price}\r\n                </p>\r\n                <p>\r\n                  <strong>Foil</strong>: {card.foil ? 'Yes' : 'No'}\r\n                </p>\r\n                <p>\r\n                  <strong>Condition</strong>: {card.condition}\r\n                </p>\r\n                <p>\r\n                  <strong>Set</strong>: {card.set_name}\r\n                </p>\r\n                <p>\r\n                  <strong>Artist</strong>: {card.artist}\r\n                </p>\r\n                <p>\r\n                  <strong>Year</strong>: {card.frame}\r\n                </p>\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"add-card-form\">\r\n        <div className=\"form-element\">\r\n          <label htmlFor=\"condition\">Pick a condition: </label>\r\n          <Select\r\n            id=\"condition\"\r\n            name=\"condition\"\r\n            value={cardCondition}\r\n            onChange={(e) => setCardCondition(e.target.value)}\r\n          >\r\n            <option value=\"nm\">Near Mint</option>\r\n            <option value=\"sp\">Slightly Played</option>\r\n            <option value=\"m\">Moderate</option>\r\n            <option value=\"hp\">Heavy Played</option>\r\n            <option value=\"d\">Dammaged</option>\r\n          </Select>\r\n        </div>\r\n        <div className=\"form-element\">\r\n          <label htmlFor=\"condition\">Card language: </label>\r\n          <Select\r\n            id=\"condition\"\r\n            name=\"condition\"\r\n            value={cardLanguage}\r\n            onChange={(e) => setCardLanguage(e.target.value)}\r\n          >\r\n            <option value=\"en\">English</option>\r\n            <option value=\"es\">Spanish</option>\r\n            <option value=\"fr\">French</option>\r\n            <option value=\"de\">German</option>\r\n            <option value=\"it\">Italian</option>\r\n            <option value=\"pt\">Portuguese</option>\r\n            <option value=\"ja\">Japanese</option>\r\n            <option value=\"ko\">Korean</option>\r\n            <option value=\"ru\">Russian</option>\r\n            <option value=\"zhs\">Simplified Chinese</option>\r\n            <option value=\"zht\">Traditional Chinese</option>\r\n            <option value=\"ph\">Phyrexian</option>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"form-element\">\r\n          <label htmlFor=\"quantity\">Quantity:</label>\r\n          <Quantity>\r\n            <Circles\r\n              id=\"remove\"\r\n              onClick={(e) => {\r\n                handleClick(e);\r\n              }}\r\n            >\r\n              <FiMinusCircle size={23} />\r\n            </Circles>\r\n            <input\r\n              type=\"text\"\r\n              id=\"quantity\"\r\n              name=\"quantity\"\r\n              value={quantity}\r\n              onChange={(e) => {\r\n                setQuantity(e.target.value);\r\n              }}\r\n            />{' '}\r\n            <Circles\r\n              id=\"add\"\r\n              onClick={(e) => {\r\n                handleClick(e);\r\n              }}\r\n            >\r\n              <FiPlusCircle size={23} />\r\n            </Circles>\r\n          </Quantity>\r\n        </div>\r\n        <div className=\"form-element\">\r\n          <label htmlFor=\"negotiable\">Asking Price</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"price\"\r\n            name=\"price\"\r\n            value={cardPrice}\r\n            onChange={(e) => {\r\n              setCardPrice(e.target.value);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"form-element\">\r\n          <label htmlFor=\"comment\">Comments: </label>\r\n          <Comment\r\n            id=\"comment\"\r\n            name=\"information\"\r\n            value={comment}\r\n            onChange={(e) => {\r\n              setComment(e.target.value);\r\n            }}\r\n            placeholder=\"Additionnal information\"\r\n          ></Comment>\r\n          <div className=\"item-buttons push-right\">\r\n            <button\r\n              className=\"item-button success\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                card.condition = cardCondition;\r\n                card.language = cardLanguage;\r\n                card.quantity = quantity;\r\n                card.price = cardPrice;\r\n                card.comment = comment;\r\n                setIsSent(true);\r\n              }}\r\n            >\r\n              {path === 'add-card' ? 'Add To Store' : 'Save Changes'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 80vh;\r\n`;\r\n\r\nconst GoBack = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst BackIcon = styled.span`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst BackText = styled.span`\r\n  margin-left: 20px;\r\n`;\r\n\r\nconst Select = styled.select`\r\n  display: block;\r\n  width: 100%;\r\n  padding: 3px;\r\n  font-size: 1em;\r\n`;\r\nconst Comment = styled.textarea`\r\n  display: block;\r\n  width: 100%;\r\n  height: 15vh;\r\n  font-size: 0.9em;\r\n  font-family: sans-serif;\r\n`;\r\n\r\nconst Quantity = styled.div`\r\n  display: flex;\r\n  justify-context: center;\r\n  align-items: center;\r\n`;\r\nconst Circles = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 10px;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default CardListing;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport CardListing from './CardListing';\r\n\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport { PathContext } from '../../contexts/PathContext';\r\nimport styled from 'styled-components';\r\n\r\nconst AddCard = () => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [isSent, setIsSent] = useState(false);\r\n  const [card, setCard] = useState(location.state.detail);\r\n\r\n  const { user } = useContext(UserContext);\r\n  const { setCardContext } = useContext(CardContext);\r\n\r\n  const capitalize = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  };\r\n  // Add a cord to user store\r\n  useEffect(() => {\r\n    if (isSent) {\r\n      const newCard = {\r\n        skryfallID: card.id,\r\n        name: card.name,\r\n        type_line: card.type_line,\r\n        set_name: card.set_name,\r\n        rarity: capitalize(card.rarity),\r\n        image_uris: card.image_uris,\r\n        artist: card.artist,\r\n        frame: card.frame,\r\n        condition: card.condition,\r\n        language: card.language,\r\n        foil: card.foil,\r\n        quantity: parseInt(card.quantity),\r\n        price: parseFloat(card.price),\r\n        comment: card.comment,\r\n        userName: user.name,\r\n        userCountry: user.country,\r\n        userID: user.id\r\n      };\r\n\r\n      const headers = new Headers();\r\n      headers.append('Content-Type', 'application/json');\r\n      headers.append('auth-token', user.token);\r\n\r\n      const options = {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify(newCard)\r\n      };\r\n      fetch('/api/cards', options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          console.log(data);\r\n          setCardContext(false);\r\n          history.push('/search-api');\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [isSent]);\r\n\r\n  return <CardListing card={card} setIsSent={setIsSent} />;\r\n};\r\n\r\nexport default AddCard;\r\n","import React, { useContext } from 'react';\r\nimport { RouteContext } from '../../contexts/RouteContext';\r\nconst NotFound = () => {\r\n  const { setNotFound } = useContext(RouteContext);\r\n  setNotFound(true);\r\n  return (\r\n    <div>\r\n      <h1>404</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext';\r\n\r\nconst CartItem = ({ item, setIsUpdating }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const { cartItems, setCartItems } = useContext(ShoppingCartContext);\r\n\r\n  const handleChange = (e, item) => {\r\n    cartItems.forEach((cartItem) => {\r\n      if (cartItem === item) {\r\n        // console.log(e.target.value);\r\n        cartItem.quantity_selected = parseInt(e.target.value);\r\n      }\r\n\r\n      setLoading(true);\r\n      setIsUpdating(true);\r\n      const options = {\r\n        method: 'GET',\r\n        header: { 'Content-Type': 'application/json' }\r\n      };\r\n\r\n      fetch(\r\n        `/api/catalog/${item.name}/${item._id}/${item.quantity_selected}`,\r\n        options\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.data.isQuantityAvailable) {\r\n            setLoading(false);\r\n            setIsUpdating(false);\r\n            setQuantity(cartItem.quantity_selected);\r\n            const items = [...cartItems];\r\n            setCartItems(items);\r\n          } else {\r\n            return console.log('Quantity not available');\r\n          }\r\n        });\r\n    });\r\n  };\r\n\r\n  const handleClick = (item) => {\r\n    cartItems.forEach((cartItem, index) => {\r\n      if (cartItem === item) {\r\n        cartItems.splice(index, 1);\r\n      }\r\n\r\n      const items = [...cartItems];\r\n      setCartItems(items);\r\n    });\r\n  };\r\n  return (\r\n    <Content className={loading ? 'loading' : ''}>\r\n      <ImageContainer>\r\n        <Image src={item.image_uris.png} />\r\n      </ImageContainer>\r\n      <DetailsContainer>\r\n        <DetailsHeader>\r\n          <h3>{item.name}</h3>\r\n          <p>$ {item.price}.00</p>\r\n        </DetailsHeader>\r\n        <Details>\r\n          <Info>\r\n            <p>Seller: {item.userName}</p>\r\n            <p>Ships from: {item.userCountry}</p>\r\n            <p>Card Condition: {item.condition.toUpperCase()}</p>\r\n          </Info>\r\n          <Selector>\r\n            <select\r\n              onChange={(e) => {\r\n                handleChange(e, item);\r\n              }}\r\n            >\r\n              {[...new Array(item.quantity)].map((x, i) => {\r\n                return i + 1 === item.quantity_selected ? (\r\n                  <option key={i} value={i + 1} selected>\r\n                    {i + 1}\r\n                  </option>\r\n                ) : (\r\n                  <option key={i} value={i + 1}>\r\n                    {i + 1}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n\r\n            <button onClick={() => handleClick(item)}>Delete</button>\r\n          </Selector>\r\n        </Details>\r\n        <DetailsFooter>\r\n          <h4>Total:</h4>\r\n          <p>{quantity && `$ ${item.quantity_selected * item.price}.00`}</p>\r\n        </DetailsFooter>\r\n      </DetailsContainer>\r\n    </Content>\r\n  );\r\n};\r\n\r\nconst Info = styled.div``;\r\nconst DetailsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  font-size: 0.9rem;\r\n  width: 100%;\r\n`;\r\nconst Details = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0.5em;\r\n  font-size: 0.8rem;\r\n`;\r\nconst DetailsFooter = styled.footer`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 0.5em 1em 1em 0;\r\n  border-top: 1px solid #e4e4e4;\r\n\r\n  h4 {\r\n    margin-right: 1em;\r\n  }\r\n\r\n  p {\r\n    font-weight: 900;\r\n  }\r\n`;\r\nconst DetailsHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 1em 1em 0.5em 0;\r\n  border-bottom: 1px solid #e4e4e4;\r\n\r\n  p {\r\n    font-weight: 900;\r\n  }\r\n`;\r\n\r\nconst Selector = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 10em;\r\n  padding: 0.5em 0;\r\n\r\n  select {\r\n    padding: 0.2em;\r\n    width: 4em;\r\n  }\r\n\r\n  button {\r\n    padding: 0.5em 1em;\r\n    color: #fff;\r\n    background: #dc3545;\r\n    border: 1px solid #dc3545;\r\n  }\r\n`;\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 1em;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  width: 75%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Container = styled.main`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 0 1em;\r\n  background: #e1e8ed;\r\n`;\r\nconst Aside = styled.aside`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  background: #fff;\r\n  height: 20vh;\r\n  padding: 1em;\r\n  margin: 4em 0 1em 1em;\r\n\r\n  h3 {\r\n    text-align: center;\r\n    padding-bottom: em;\r\n  }\r\n\r\n  p {\r\n  }\r\n`;\r\nconst CheckoutButton = styled.button`\r\n  width: 100%;\r\n  padding: 1em 0;\r\n  font-size: 1rem;\r\n\r\n  background: #ffc107;\r\n  border: none;\r\n`;\r\nconst Content = styled.div`\r\n  display: flex;\r\n  margin-bottom: 1em;\r\n\r\n  background: #fff;\r\n  width: 100%;\r\n`;\r\nconst ImageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 20%;\r\n  padding: 0.8em;\r\n`;\r\nconst Image = styled.img`\r\n  display: block;\r\n  width: 100%;\r\n`;\r\nexport default CartItem;\r\n","import React, { Fragment, useEffect, useContext, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { FiPlusCircle, FiMinusCircle, FiTrash2 } from 'react-icons/fi';\r\nimport CartItem from './CartItem';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ShoppingCartContext } from '../../contexts/ShoppingCartContext';\r\nimport styled from 'styled-components';\r\n\r\nfunction ShoppingCart() {\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const [subTotal, setSubTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const { user } = useContext(UserContext);\r\n  const { cartItems, setCartItems } = useContext(ShoppingCartContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    let amount = 0;\r\n    let items = 0;\r\n    cartItems.forEach((cartItem) => {\r\n      items += cartItem.quantity_selected;\r\n      amount += cartItem.quantity_selected * cartItem.price;\r\n    });\r\n\r\n    setSubTotal(amount);\r\n    setTotalItems(items);\r\n  }, [cartItems]);\r\n\r\n  const handleCheckout = () => {\r\n    // setLoading(true);\r\n    if (!user) {\r\n      history.push('/login');\r\n    } else {\r\n      const input = {\r\n        userID: user.id,\r\n        cartItems: cartItems\r\n      };\r\n      const options = {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'auth-token': user.token\r\n        },\r\n        body: JSON.stringify(input)\r\n      };\r\n\r\n      fetch(`/api/cart/`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          // setLoading(false);\r\n          // setCartItems([]);\r\n          // history.push('/confirmation');\r\n          console.log(data);\r\n        })\r\n        .catch((error) => console.log('error', error));\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">Shopping Cart</h2>\r\n      <Container>\r\n        {cartItems.length > 0 ? (\r\n          <Items>\r\n            <Header>\r\n              <h3>Items</h3>\r\n              <h3>Price</h3>\r\n            </Header>\r\n\r\n            {cartItems &&\r\n              cartItems.map((item) => {\r\n                return <CartItem item={item} setIsUpdating={setIsUpdating} />;\r\n              })}\r\n          </Items>\r\n        ) : (\r\n          <div>Your Cart is Empty</div>\r\n        )}\r\n        {cartItems.length > 0 ? (\r\n          <Aside className={isUpdating ? 'loading' : ''}>\r\n            <h3>Subtotal</h3>\r\n            {!isUpdating && totalItems ? (\r\n              <p>\r\n                {`(${totalItems} items): `}\r\n                <strong>{`$ ${subTotal}.00`}</strong>\r\n              </p>\r\n            ) : (\r\n              <p>\r\n                {`(${totalItems} items): `}\r\n                <strong>{`$ ${subTotal}.00`}</strong>\r\n              </p>\r\n            )}\r\n\r\n            <CheckoutButton\r\n              onClick={() => {\r\n                handleCheckout();\r\n              }}\r\n            >\r\n              Checkout\r\n            </CheckoutButton>\r\n          </Aside>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 1em;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  width: 75%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Container = styled.main`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 0 1em;\r\n  background: #e1e8ed;\r\n`;\r\nconst Aside = styled.aside`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  background: #fff;\r\n  height: 20vh;\r\n  padding: 1em;\r\n  margin: 4em 0 1em 1em;\r\n\r\n  h3 {\r\n    text-align: center;\r\n    padding-bottom: em;\r\n  }\r\n\r\n  p {\r\n  }\r\n`;\r\nconst CheckoutButton = styled.button`\r\n  width: 100%;\r\n  padding: 1em 0;\r\n  font-size: 1rem;\r\n\r\n  background: #ffc107;\r\n  border: none;\r\n`;\r\n\r\nexport default ShoppingCart;\r\n","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nconst Confirmation = () => {\r\n  return (\r\n    <Fragment>\r\n      {' '}\r\n      <div>Confirmation</div>\r\n      <div>\r\n        <Link to=\"/\">Back to Home Page</Link>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Confirmation;\r\n","import React, { Fragment, useContext, useEffect } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { FiArrowLeftCircle } from 'react-icons/fi';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Remove = () => {\r\n  const { user } = useContext(UserContext);\r\n  const { setCardContext } = useContext(CardContext);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const card = location.state.data;\r\n  const token = user.token;\r\n\r\n  //   Remove card from use store\r\n  const removeCard = () => {\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('auth-token', token);\r\n    const input = {\r\n      cardID: card._id,\r\n      userID: user.id\r\n    };\r\n    const options = {\r\n      method: 'DELETE',\r\n      headers: headers,\r\n      body: JSON.stringify(input)\r\n    };\r\n    fetch(`/api/cards/`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setCardContext(false);\r\n        history.push({\r\n          pathname: '/store',\r\n          state: {\r\n            message: 'Card successfully deleted'\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => console.log('error', error));\r\n  };\r\n\r\n  const capitalize = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <h2>Delete Product</h2>\r\n      <header className=\"search-header\">\r\n        <GoBack to={'/store'} title=\"Back To Store\">\r\n          <BackIcon>\r\n            <FiArrowLeftCircle size={26} />\r\n          </BackIcon>\r\n          <BackText>Back to Store</BackText>\r\n        </GoBack>\r\n\r\n        <span>\r\n          {`${card.name.charAt(0).toUpperCase()}${card.name\r\n            .substring(1)\r\n            .toLowerCase()}`}\r\n        </span>\r\n      </header>\r\n      <div className=\"item-container\">\r\n        <div className=\"item-info\">\r\n          <div className=\"item-image\">\r\n            <img id=\"item-image\" src={card.image_uris && card.image_uris.png} />\r\n          </div>\r\n\r\n          <div className=\"item-details\">\r\n            <p>\r\n              <strong>Name</strong>: {card.name}\r\n            </p>\r\n            <p>\r\n              <strong>Asking Price</strong>: ${card.price}\r\n            </p>\r\n            <p>\r\n              <strong>Foil</strong>: {card.foil ? 'Yes' : 'No'}\r\n            </p>\r\n            <p>\r\n              <strong>Condition</strong>: {card.condition}\r\n            </p>\r\n            <p>\r\n              <strong>Set</strong>: {card.set_name}\r\n            </p>\r\n            <p>\r\n              <strong>Artist</strong>: {card.artist}\r\n            </p>\r\n            <p>\r\n              <strong>Year</strong>: {card.frame}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"item-buttons push-right\">\r\n          <button\r\n            className=\"item-button danger full-width\"\r\n            onClick={() => {\r\n              removeCard();\r\n            }}\r\n          >\r\n            Delete Permanently\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 80vh;\r\n`;\r\nconst Header = styled.header`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 1.2% 0;\r\n  margin: 1% 0;\r\n  border-bottom: 1px solid #e4e4e4;\r\n  box-shadow: 0px 5px 5px -5px #e4e4e4;\r\n`;\r\nconst HeaderContent = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 0 1%;\r\n  font-size: 1.1em;\r\n  align-items: center;\r\n`;\r\nconst GoBack = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst BackIcon = styled.span`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst BackText = styled.span`\r\n  margin-left: 20px;\r\n`;\r\nconst Main = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 50%;\r\n  margin: auto;\r\n  padding: 2%;\r\n`;\r\n\r\nconst CardImage = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 50%;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 100%;\r\n`;\r\nconst CardDetails = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 40%;\r\n  padding-left: 5%;\r\n`;\r\nconst Title = styled.h2`\r\n  margin-bottom: 20px;\r\n`;\r\nconst Details = styled.div``;\r\nconst Buttons = styled.div`\r\n  width: 100%;\r\n  margin-top: 25px;\r\n`;\r\nconst Button = styled.button`\r\n  color: var(--extra-light-color);\r\n  background: var(--danger-color);\r\n  width: 100%;\r\n  padding: 15px 0;\r\n\r\n  font-size: 1rem;\r\n  border: none;\r\n`;\r\nexport default Remove;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport CardListing from './CardListing';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { CardContext } from '../../contexts/CardContext';\r\n\r\nconst Modify = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [isSent, setIsSent] = useState(false);\r\n  const [card, setCard] = useState(location.state.data);\r\n  const { user } = useContext(UserContext);\r\n  const { setCardContext } = useContext(CardContext);\r\n\r\n  useEffect(() => {\r\n    if (isSent) {\r\n      // object of relevant key/values:\r\n      // skyfallID, userEmail, userID are used\r\n      // to locate current user and card to be modified.\r\n      // All other pairs are possible updating fields in\r\n      // for cards in users document & users in cards document.\r\n      const updates = {\r\n        condition: card.condition,\r\n        language: card.language,\r\n        quantity: parseInt(card.quantity),\r\n        price: parseFloat(card.price),\r\n        comment: card.comment,\r\n        userID: card.user_id,\r\n        cardID: card._id\r\n      };\r\n      const headers = new Headers();\r\n      headers.append('Content-Type', 'application/json');\r\n      headers.append('auth-token', user.token);\r\n      const options = {\r\n        method: 'PATCH',\r\n        headers: headers,\r\n        body: JSON.stringify(updates)\r\n      };\r\n      fetch(`/api/cards/modify`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          // console.log(data);\r\n          setCardContext(false);\r\n          history.push({\r\n            pathname: '/store',\r\n            state: {\r\n              message: 'Card successfully updated'\r\n            }\r\n          });\r\n        })\r\n        .catch((error) => console.log('error', error));\r\n    }\r\n  }, [isSent]);\r\n\r\n  return <CardListing card={card} setIsSent={setIsSent} />;\r\n  //   return <div>Card</div>;\r\n};\r\n\r\nexport default Modify;\r\n","// Get mailbox selected option : inbox, unread, sent, draft, trash\r\n\r\nconst getPath = (url) => {\r\n  // console.log(url);\r\n  return url.split('/')[2];\r\n};\r\n\r\nexport default getPath;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { FiTrash } from 'react-icons/fi';\r\nimport getPath from '../../utilities/getPath';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport styled from 'styled-components';\r\n\r\nconst SideBar = ({\r\n  isTrash,\r\n  checkedState,\r\n  setMessages,\r\n  setLoading,\r\n  messages,\r\n  user\r\n}) => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const { path, setPath } = useContext(PathContext);\r\n\r\n  // Set path on location change\r\n  useEffect(() => {\r\n    // console.log('path', path);\r\n    // console.log('location.pathname', getPath(location.pathname));\r\n    if (path !== getPath(location.pathname)) {\r\n      localStorage.removeItem('message');\r\n    }\r\n    setPath(getPath(location.pathname));\r\n    // localStorage.removeItem('message');\r\n  }, [location]);\r\n\r\n  // Update isTrash status in database for checked messages\r\n  const handleTrashClick = (e) => {\r\n    const trashed = [];\r\n    // Populate messages selected for the trash bin (state: true === checked message)\r\n    if (localStorage.getItem('message')) {\r\n      trashed.push(JSON.parse(localStorage.getItem('message')));\r\n    } else {\r\n      // Populate messages selected for the trash bin (state: true === checked message)\r\n      checkedState.forEach((state, index) => {\r\n        if (state) {\r\n          trashed.push(messages[index]);\r\n        }\r\n      });\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const updates = {\r\n      userID: user.id,\r\n      trashed: trashed,\r\n      path: path\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n\r\n    const options = {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify(updates)\r\n    };\r\n\r\n    fetch(`/api/messages/`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setLoading(false);\r\n        localStorage.removeItem('message');\r\n        setMessages(data.data);\r\n        setPath(getPath(location.pathname));\r\n        history.push(`/mail/${path}`);\r\n      });\r\n  };\r\n\r\n  // On click of delete button. Triggered on checkbox select in Trash Bin view\r\n  const handleDeleteClick = () => {\r\n    const deleted = [];\r\n\r\n    // Populate messages selected for the trash bin (state: true === checked message)\r\n    checkedState.forEach((state, index) => {\r\n      if (state) {\r\n        deleted.push(messages[index]);\r\n      }\r\n    });\r\n\r\n    const updates = {\r\n      userID: user.id,\r\n      toBeDeleted: deleted\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n\r\n    const options = {\r\n      method: 'DELETE',\r\n      headers: headers,\r\n      body: JSON.stringify(updates)\r\n    };\r\n\r\n    fetch(`/api/messages/delete`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // console.log(data);\r\n        localStorage.removeItem('message');\r\n        setMessages(data.data.length > 0 ? data.data : []);\r\n        setPath(getPath(location.pathname));\r\n        history.push(`/mail/${path}`);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\".mailbox-sidebar-container\">\r\n      <div className=\"mailbox-sidebar\">\r\n        <div className=\"mailbox-sidebar-header\">\r\n          <button\r\n            className=\"compose-message\"\r\n            onClick={() => {\r\n              setPath('message');\r\n              history.push('/mail/message');\r\n            }}\r\n          >\r\n            Compose\r\n          </button>\r\n          {isTrash && location.pathname.includes('trash') ? (\r\n            <button className=\"remove-message\" onClick={handleDeleteClick}>\r\n              Delete\r\n            </button>\r\n          ) : isTrash ? (\r\n            <button className=\"remove-message\" onClick={handleTrashClick}>\r\n              Trash\r\n            </button>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n\r\n        <ul className=\"mailbox-sidebar-options\">\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('inbox') && '1px solid #e1e8ed'\r\n              }}\r\n              to=\"/mail/inbox\"\r\n            >\r\n              Inbox\r\n            </Link>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('unread') && '1px solid #e1e8ed'\r\n              }}\r\n              to=\"/mail/unread\"\r\n            >\r\n              Unread\r\n            </Link>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('sent') && '1px solid #e1e8ed'\r\n              }}\r\n              to=\"/mail/sent\"\r\n            >\r\n              Sent\r\n            </Link>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Link\r\n              style={{\r\n                border:\r\n                  location.pathname.includes('trash') && '1px solid #e1e8ed'\r\n              }}\r\n              to=\"/mail/trash\"\r\n            >\r\n              Trash\r\n            </Link>\r\n          </ListItem>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TrashIcon = styled.span`\r\n  display: block;\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst SideMenu = styled.aside`\r\n  width: 98%;\r\n  padding: 10px;\r\n  border: 1px solid #f5f8fa;\r\n`;\r\n\r\nconst List = styled.ul`\r\n  margin-top: 20px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst ListItem = styled.li`\r\n  a {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 8px 10px;\r\n    border: 1px solid #fff;\r\n  }\r\n  a:hover {\r\n    background: #f5f8fa;\r\n    border: 1px solid #f1f9ff;\r\n  }\r\n`;\r\n\r\nconst Compose = styled.button`\r\n  text-align: center;\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  background: #28a745;\r\n  color: #fff;\r\n  font-size: 1rem;\r\n  border: 2px solid #28a745;\r\n`;\r\n\r\nexport default SideBar;\r\n","import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst MailHeader = ({ checked, handleChange, path }) => {\r\n  return (\r\n    <header className=\"mailbox-header\">\r\n      <input\r\n        className=\"mail-checkbox\"\r\n        type=\"checkbox\"\r\n        id=\"checkAll\"\r\n        checked={checked}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"mailbox-section-1\">\r\n        {path === 'sent' ? (\r\n          <h2 className=\"row-to\">To</h2>\r\n        ) : path === 'trash' ? (\r\n          <h2></h2>\r\n        ) : (\r\n          <h2 className=\"row-from\">From</h2>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mailbox-section-2\">\r\n        <h2 className=\"row-subject\">Subject</h2>\r\n        <h2 className=\"row-sent\">Sent</h2>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst Check = styled.div`\r\n  position: relative;\r\n  width: 10%;\r\n`;\r\nconst Checkbox = styled.input`\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst From = styled.div`\r\n  width: 10%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  color: #fff;\r\n  background: #636363;\r\n`;\r\nconst Sent = styled.div``;\r\nconst Subject = styled.div`\r\n  width: 50%;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 1rem;\r\n  font-weight: normal;\r\n  margin-left: -7px;\r\n  padding-left: 0;\r\n`;\r\nexport default MailHeader;\r\n","const timestampConverter = {\r\n  longDate: (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const day = date.getDate();\r\n    const month = convertMonth(date.getMonth() + 1);\r\n    const year = date.getFullYear();\r\n    console.log(date);\r\n    return `${day} ${month} ${year}`;\r\n  },\r\n  shortDate: (timestamp) => {\r\n    // adds a 0 if num is under 10\r\n    const standardize = (num) => {\r\n      if (num < 10) {\r\n        return `0${num}`;\r\n      } else {\r\n        return num;\r\n      }\r\n    };\r\n    const date = new Date(timestamp);\r\n\r\n    return `${date.getFullYear().toString().substring(2)}/${standardize(\r\n      date.getMonth() + 1\r\n    )}/${standardize(date.getDate())}`;\r\n  }\r\n};\r\n\r\nconst convertMonth = (num) => {\r\n  let month = '';\r\n  switch (parseInt(num)) {\r\n    case 1:\r\n      month = 'Jan';\r\n      break;\r\n    case 2:\r\n      month = 'Feb';\r\n      break;\r\n    case 3:\r\n      month = 'Mar';\r\n      break;\r\n    case 4:\r\n      month = 'Apr';\r\n      break;\r\n    case 5:\r\n      month = 'May';\r\n      break;\r\n    case 6:\r\n      month = 'Jun';\r\n      break;\r\n    case 7:\r\n      month = 'Jul';\r\n      break;\r\n    case 8:\r\n      month = 'Aug';\r\n      break;\r\n    case 9:\r\n      month = 'Sep';\r\n      break;\r\n    case 10:\r\n      month = 'Oct';\r\n      break;\r\n    case 11:\r\n      month = 'Nov';\r\n      break;\r\n    default:\r\n      month = 'Dec';\r\n  }\r\n\r\n  return month;\r\n};\r\n\r\nexport default timestampConverter;\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport timestampConverter from '../../utilities/timestampConverter';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Mail = ({\r\n  handleChange,\r\n  setCurrentMessage,\r\n  checkedState,\r\n  message,\r\n  index\r\n}) => {\r\n  const { path } = useContext(PathContext);\r\n\r\n  return (\r\n    <div\r\n      className=\"mail-row\"\r\n      style={{\r\n        backgroundColor: message.isRead ? '#e3e3e3' : ''\r\n      }}\r\n    >\r\n      <input\r\n        className=\"mail-checkbox\"\r\n        type=\"checkbox\"\r\n        id={`checkbox${index}`}\r\n        checked={false || checkedState[index]}\r\n        onChange={(e) => {\r\n          handleChange(e, index);\r\n        }}\r\n        style={{ background: message.read ? '#f5f8fa' : '' }}\r\n      />\r\n      <Link\r\n        className=\"mail-message\"\r\n        onClick={(e) => {\r\n          // Prevents leakage of click event on checkbox\r\n          e.stopPropagation();\r\n          setCurrentMessage(message);\r\n          localStorage.setItem('message', JSON.stringify(message));\r\n        }}\r\n        style={{\r\n          backgroundColor: message.isRead ? '#e3e3e3' : ''\r\n        }}\r\n        to={`/mail/${path}/${message._id}`}\r\n        id={index}\r\n      >\r\n        <div className=\"mailbox-section-1\">\r\n          <div className=\"row-from\">\r\n            {path === 'inbox' || path === 'unread'\r\n              ? message.sender\r\n              : path === 'sent'\r\n              ? message.recipient\r\n              : ''}\r\n          </div>\r\n        </div>\r\n        <div className=\"mailbox-row mailbox-section-2\">\r\n          <div className=\"row-subject\">{message.subject}</div>\r\n\r\n          <div className=\"row-sent\">\r\n            {document.body.clientWidth > 500\r\n              ? timestampConverter.longDate(message.date)\r\n              : timestampConverter.shortDate(message.date)}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\nconst Check = styled.div`\r\n  position: relative;\r\n  width: 10%;\r\n`;\r\n\r\nconst Date = styled.div`\r\n  font-size: 0.9rem;\r\n`;\r\nconst From = styled.div`\r\n  width: 30%;\r\n`;\r\nconst Message = styled(Link)``;\r\n\r\nconst Subject = styled.div`\r\n  width: 50%;\r\n`;\r\n\r\nexport default Mail;\r\n","const validateMessage = (values) => {\r\n  let errors = {};\r\n\r\n  // Check for recipient\r\n  if (!values.recipient) {\r\n    errors.recipient = 'Recipient is required';\r\n  }\r\n\r\n  // Check for email\r\n  if (!values.subject) {\r\n    errors.subject = 'Subject is Required';\r\n  }\r\n\r\n  // Check for message\r\n  if (!values.text) {\r\n    errors.text = 'Message is required';\r\n  } else if (parseInt(values.text.length) > 500) {\r\n    errors.text = 'Message is too long';\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validateMessage;\r\n","import { useState, useEffect } from 'react';\r\n\r\nconst useForm = (callback, validate, recipient, subject) => {\r\n  const [values, setValues] = useState({\r\n    recipient: recipient,\r\n    subject: subject,\r\n    text: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({\r\n      ...values,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n\r\n    setErrors(validate(values));\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmitting) {\r\n      callback(values);\r\n    }\r\n  }, [errors]);\r\n\r\n  return { handleChange, values, handleClick, errors };\r\n};\r\n\r\nexport default useForm;\r\n","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport { UserContext } from '../../../contexts/UserContext';\r\nimport validate from '../../utilities/validateMessage';\r\nimport getPath from '../../utilities/getPath';\r\nimport useMessage from '../../hooks/useMessage';\r\nimport styled from 'styled-components';\r\n\r\nconst Message = () => {\r\n  const MAXCHARS = 500;\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { user } = useContext(UserContext);\r\n  const { setPath } = useContext(PathContext);\r\n  // When writing to a seller set recipient name to seller name\r\n  const [recipientName, setRecipientName] = useState(\r\n    location.state ? location.state.sender : ''\r\n  );\r\n\r\n  const [subject, setSubject] = useState(\r\n    location.state ? location.state.subject : ''\r\n  );\r\n  const [text, setText] = useState('');\r\n  const [messageID, setMessageID] = useState('');\r\n  const [threadID, setThreadID] = useState('');\r\n  const [isReply, setIsReply] = useState(false);\r\n  const [count, setCount] = useState(0);\r\n  const [color, setColor] = useState('#333333');\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const token = user.token;\r\n  const userName = user.name;\r\n\r\n  const recipientField = useRef();\r\n  const subjectField = useRef();\r\n  const textField = useRef();\r\n\r\n  const callback = (values) => {\r\n    setRecipientName(values.recipient);\r\n    setSubject(values.subject);\r\n    setText(values.text);\r\n    setIsValid(true);\r\n  };\r\n\r\n  const { handleChange, values, handleClick, errors } = useMessage(\r\n    callback,\r\n    validate,\r\n    recipientName,\r\n    subject\r\n  );\r\n\r\n  useEffect(() => {\r\n    setPath(getPath(location.pathname));\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!isValid) {\r\n      return console.log('invalid');\r\n    }\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n    headers.append('auth-token', token);\r\n\r\n    const options = {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({\r\n        subject,\r\n        userName,\r\n        recipientName,\r\n        text,\r\n        isReply,\r\n        messageID,\r\n        threadID\r\n      })\r\n    };\r\n\r\n    fetch('/api/messages', options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Reinitialize states\r\n        setText('');\r\n        setCount(0);\r\n        history.push('/mail/inbox');\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, [isValid]);\r\n\r\n  //  Changes the color of letter count displayed\r\n  useEffect(() => {\r\n    switch (true) {\r\n      case count <= MAXCHARS && count > 450:\r\n        setColor('#ffc107');\r\n        break;\r\n      case count > 500:\r\n        setColor('#dc3545');\r\n        break;\r\n      default:\r\n        setColor('#333333');\r\n    }\r\n  }, [count]);\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <main className=\"content\">\r\n        <div className=\"message-content\">\r\n          <section className=\"message-form\">\r\n            <div className={`error-msg`}>{errorMsg}</div>\r\n            <form>\r\n              {errors.recipient ? (\r\n                <p className=\"error\">{errors.recipient}</p>\r\n              ) : (\r\n                <label htmlFor=\"recipient\">Recipient:</label>\r\n              )}\r\n              <input\r\n                className={errors.recipient && 'empty-field'}\r\n                id=\"recipient\"\r\n                type=\"text\"\r\n                name=\"recipient\"\r\n                value={\r\n                  location.state ? location.state.sender : values.recipient\r\n                }\r\n                ref={recipientField}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.subject ? (\r\n                <p className=\"error\">{errors.subject}</p>\r\n              ) : (\r\n                <label htmlFor=\"subject\">Subject:</label>\r\n              )}\r\n              <input\r\n                className={errors.subject && 'empty-field'}\r\n                id=\"subject\"\r\n                type=\"text\"\r\n                name=\"subject\"\r\n                value={location.state ? location.state.subject : values.subject}\r\n                ref={subjectField}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.text ? (\r\n                <p className=\"error\">{errors.text}</p>\r\n              ) : (\r\n                <label htmlFor=\"text\">Message:</label>\r\n              )}\r\n              <textarea\r\n                className={errors.text && 'empty-field'}\r\n                id=\"text\"\r\n                name=\"text\"\r\n                value={values.text}\r\n                ref={textField}\r\n                onChange={(e) => {\r\n                  setCount(e.target.value.length);\r\n                  handleChange(e);\r\n                }}\r\n              ></textarea>\r\n\r\n              <footer>\r\n                <span className=\"word-counter\">\r\n                  <span style={{ color: color }}> {count} </span>\r\n                  <span> / {MAXCHARS}</span>\r\n                </span>\r\n                <button className=\"item-button success\" onClick={handleClick}>\r\n                  Send\r\n                </button>\r\n              </footer>\r\n            </form>\r\n          </section>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { FiArrowLeftCircle } from 'react-icons/fi';\r\nimport timestampConverter from '../../utilities/timestampConverter';\r\nimport getPath from '../../utilities/getPath';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport { UserContext } from '../../../contexts/UserContext';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst Message = ({ currentMessage, setMessages, setLoading }) => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { path, setPath } = useContext(PathContext);\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    if (!currentMessage) {\r\n      currentMessage = JSON.parse(localStorage.getItem('message'));\r\n      // localStorage.setItem('message', JSON.stringify(currentMessage));\r\n    }\r\n    localStorage.setItem('message', JSON.stringify(currentMessage));\r\n  }, []);\r\n  // Set isRead status in database for current message\r\n  const setIsReadStatus = (status) => {\r\n    // Reset path value\r\n    // if (!loading) {\r\n    setPath(null);\r\n    setLoading(true);\r\n    const updates = {\r\n      userID: user.id,\r\n      messageID: currentMessage._id,\r\n      isReadStatus: status\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n\r\n    const options = {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify(updates)\r\n    };\r\n    fetch(`/api/messages/read`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Update path value to trigger useEffect in MailBox component to show updated list\r\n        // of current view\r\n\r\n        setLoading(false);\r\n        setPath(getPath(location.pathname));\r\n        if (currentMessage.isRead) {\r\n          history.push(`/mail/${path}`);\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  // Set isTrash status in database for current message\r\n  const setIsTrashStatus = (status) => {\r\n    setPath(null);\r\n\r\n    setLoading(true);\r\n\r\n    const updates = {\r\n      userID: user.id,\r\n      messageID: currentMessage._id,\r\n      isSentMessage: currentMessage.isSent,\r\n      isTrashStatus: status\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n\r\n    const options = {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify(updates)\r\n    };\r\n    fetch(`/api/messages/trash`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setLoading(false);\r\n        localStorage.removeItem('message');\r\n        setPath(getPath(location.pathname));\r\n        history.push(`/mail/${path}`);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleDeleteClick = (message) => {\r\n    const deleted = [message];\r\n\r\n    setLoading(true);\r\n\r\n    const updates = {\r\n      userID: user.id,\r\n      toBeDeleted: deleted\r\n    };\r\n    const headers = new Headers();\r\n    headers.append('Content-type', 'application/json');\r\n    headers.append('auth-token', user.token);\r\n\r\n    const options = {\r\n      method: 'DELETE',\r\n      headers: headers,\r\n      body: JSON.stringify(updates)\r\n    };\r\n\r\n    fetch(`/api/messages/delete`, options)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setPath(getPath(location.pathname));\r\n        setMessages(data.data.length > 0 ? data.data : []);\r\n        localStorage.removeItem('message');\r\n        history.push(`/mail/${path}`);\r\n      });\r\n  };\r\n\r\n  // Change isRead status to true\r\n  useEffect(() => {\r\n    if (!currentMessage.isRead) {\r\n      setIsReadStatus(true);\r\n    }\r\n  }, [location]);\r\n  console.log(currentMessage);\r\n  return (\r\n    <div className=\"message-container\">\r\n      <div>\r\n        <div\r\n          className=\"go-back\"\r\n          onClick={() => {\r\n            localStorage.removeItem('message');\r\n            history.push(`/mail/${path}`);\r\n          }}\r\n        >\r\n          <FiArrowLeftCircle />{' '}\r\n          <p>\r\n            Back To {path && path.charAt(0).toUpperCase() + path.substring(1)}\r\n          </p>\r\n        </div>\r\n        <div className=\"message-details\">\r\n          {path === 'inbox' ? (\r\n            <Detail>\r\n              From: <strong>{currentMessage.sender}</strong>\r\n            </Detail>\r\n          ) : (\r\n            <Detail>\r\n              To: <strong>{currentMessage.recipient}</strong>\r\n            </Detail>\r\n          )}\r\n\r\n          <Detail>\r\n            Subject: <strong>{currentMessage.subject}</strong>\r\n          </Detail>\r\n          <div>\r\n            Sent:{' '}\r\n            <strong>{timestampConverter.longDate(currentMessage.date)}</strong>\r\n          </div>\r\n        </div>\r\n        <div className=\"mail-content\">{currentMessage.text}</div>\r\n      </div>\r\n      <div className=\"item-buttons column\">\r\n        <button\r\n          className=\"item-button row-3 success\"\r\n          onClick={() => {\r\n            history.push({ pathname: '/mail/message', state: currentMessage });\r\n          }}\r\n        >\r\n          Reply\r\n        </button>\r\n\r\n        {path === 'trash' ? (\r\n          !currentMessage.isSent ? (\r\n            <button\r\n              className=\"item-button row-3 primary\"\r\n              onClick={() => {\r\n                localStorage.removeItem('message');\r\n                setIsTrashStatus(false);\r\n              }}\r\n            >\r\n              Move to Inbox\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"item-button row-3 primary\"\r\n              onClick={() => {\r\n                localStorage.removeItem('message');\r\n                setIsTrashStatus(false);\r\n              }}\r\n            >\r\n              Move to Sent\r\n            </button>\r\n          )\r\n        ) : path === 'inbox' ? (\r\n          <button\r\n            className=\"item-button row-3 primary\"\r\n            onClick={() => {\r\n              // localStorage.removeItem('message');\r\n              setIsReadStatus(false);\r\n              if (!currentMessage.isRead) {\r\n                history.push('/mail/inbox');\r\n              } else {\r\n                localStorage.removeItem('message');\r\n              }\r\n            }}\r\n          >\r\n            Mark As Unread\r\n          </button>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {path !== 'trash' ? (\r\n          <button\r\n            className=\"item-button row-3 danger\"\r\n            onClick={() => {\r\n              setIsTrashStatus(true);\r\n            }}\r\n          >\r\n            Move To Bin\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"item-button row-3 danger\"\r\n            onClick={() => {\r\n              handleDeleteClick(currentMessage);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst Main = styled.main``;\r\n\r\nconst Detail = styled.p``;\r\nconst Section = styled.section`\r\n  padding: 5px 10px;\r\n  border-bottom: 1px solid #e1e8ed;\r\n  margin-bottom: 25px;\r\n`;\r\nconst Content = styled.div`\r\n  padding: 0 10px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 17%;\r\n  padding: 7px;\r\n  border: 1px solid #e1e8ed;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst Reply = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 17%;\r\n  padding: 7px;\r\n  border: 1px solid #e1e8ed;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 10px;\r\n  margin-bottom: 25px;\r\n`;\r\n\r\nconst Back = styled.a`\r\n  backgound: none;\r\n  padding: 0;\r\n  margin: 0;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default Message;\r\n","import React, { Fragment, useContext, useState, useEffect } from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport SideBar from './SideBar';\r\nimport MailHeader from './MailHeader';\r\nimport Mail from './Mail';\r\nimport ComposeMessage from './ComposeMessage';\r\nimport Spinner from '../../layout/Spinner';\r\nimport Message from './Message';\r\nimport getPath from '../../utilities/getPath';\r\nimport { PathContext } from '../../../contexts/PathContext';\r\nimport { UserContext } from '../../../contexts/UserContext';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst MailBox = () => {\r\n  const { user, setUnreadMail } = useContext(UserContext);\r\n  const { path, setPath } = useContext(PathContext);\r\n\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [messages, setMessages] = useState([]);\r\n  // Message selected on click by user. Passed to Conversation. Set in Mail\r\n  const [currentMessage, setCurrentMessage] = useState(\r\n    localStorage.getItem('message')\r\n      ? JSON.parse(localStorage.getItem('message'))\r\n      : {}\r\n  );\r\n  const [checked, setChecked] = useState(false);\r\n  const [isTrash, setIsTrash] = useState(false);\r\n  const [checkedState, setCheckedState] = useState([]);\r\n\r\n  // Set path on page load\r\n  useEffect(() => {\r\n    console.log(path);\r\n    setPath(getPath(location.pathname));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // console.log('path', path);\r\n    if (path !== 'message' && path) {\r\n      // console.log(path);\r\n      setLoading(true);\r\n      // setPath(location.pathname.split('/')[2]);\r\n      setChecked(false);\r\n\r\n      const headers = new Headers();\r\n      headers.append('Content-type', 'application/json');\r\n      headers.append('auth-token', user.token);\r\n\r\n      const options = {\r\n        method: 'GET',\r\n        headers: headers\r\n      };\r\n\r\n      fetch(`/api/messages/${path}/${user.id}`, options)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.data) {\r\n            // console.log(data.data);\r\n            if (path === 'inbox' || path === 'unread') {\r\n              const unreadMail = data.data.filter((message) => {\r\n                return !message.isRead && !message.isTrash;\r\n              });\r\n\r\n              setUnreadMail(unreadMail.length);\r\n            }\r\n            setMessages(data.data);\r\n          } else {\r\n            setMessages([]);\r\n          }\r\n\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [path]);\r\n\r\n  // Populate checkedState on page reload/refresh\r\n  useEffect(() => {\r\n    // If 'message' key value is defined in localStorage, it means\r\n    // that a single message selected is the current view.\r\n    // When that is the case needs to stay as is.\r\n    if (!localStorage.getItem('message')) {\r\n      setCheckedState(new Array(messages.length).fill(checked));\r\n    }\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    setCheckedState(new Array(messages.length).fill(checked));\r\n\r\n    if (checked) {\r\n      setIsTrash(true);\r\n    } else {\r\n      setIsTrash(false);\r\n    }\r\n  }, [checked]);\r\n\r\n  // Triggers display of delete button in sidebar\r\n  useEffect(() => {\r\n    const isChecked = checkedState.find((state) => {\r\n      return state === true;\r\n    });\r\n\r\n    if (checked) {\r\n      if (!checkedState.includes(true)) {\r\n        setChecked(false);\r\n      }\r\n    }\r\n    if (isChecked) {\r\n      setIsTrash(true);\r\n    } else {\r\n      setIsTrash(false);\r\n    }\r\n  }, [checkedState]);\r\n\r\n  const handleChange = (e, position) => {\r\n    // Trigger all checkbox state change with useEffect above\r\n    if (e.target.id === 'checkAll') {\r\n      setChecked(!checked);\r\n    } else if (e.target.type === 'checkbox') {\r\n      // Set individual checkbox state\r\n      const newCheckedState = checkedState.map((state, index) => {\r\n        return position === index ? !state : state;\r\n      });\r\n\r\n      setCheckedState(newCheckedState);\r\n      localStorage.setItem('checkedState', JSON.stringify(newCheckedState));\r\n      history.push(`/mail/${location.pathname.split('/')[2]}`);\r\n    }\r\n  };\r\n  // console.log(path);\r\n  return (\r\n    <div className=\"mailbox-container\">\r\n      <h2 className=\"page-title\">Mailbox</h2>\r\n      <div className=\"mailbox-aside\">\r\n        <SideBar\r\n          isTrash={isTrash}\r\n          checkedState={checkedState}\r\n          setMessages={setMessages}\r\n          setLoading={setLoading}\r\n          messages={messages}\r\n          user={user}\r\n        />\r\n      </div>\r\n      <div className=\"mailbox-content\">\r\n        {location.pathname === '/mail/inbox' ||\r\n        location.pathname === '/mail/sent' ||\r\n        location.pathname === '/mail/unread' ||\r\n        location.pathname === '/mail/trash' ? (\r\n          <Fragment>\r\n            <MailHeader\r\n              handleChange={handleChange}\r\n              checked={checked}\r\n              path={path}\r\n              checkedState={checkedState}\r\n              messages={messages}\r\n            />\r\n            <Messages>\r\n              {loading || !messages ? (\r\n                <Spinner />\r\n              ) : (\r\n                messages.map((message, index) => {\r\n                  return (\r\n                    <Mail\r\n                      key={index}\r\n                      setCurrentMessage={setCurrentMessage}\r\n                      handleChange={handleChange}\r\n                      checkedState={checkedState}\r\n                      message={message}\r\n                      index={index}\r\n                      userID={user.id}\r\n                    />\r\n                  );\r\n                })\r\n              )}\r\n            </Messages>\r\n          </Fragment>\r\n        ) : path === 'message' ? (\r\n          <ComposeMessage />\r\n        ) : (\r\n          <Message\r\n            currentMessage={currentMessage}\r\n            setMessages={setMessages}\r\n            setLoading={setLoading}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 80%;\r\n  padding: 10px;\r\n  border: 1px solid #f5f8fa;\r\n`;\r\n\r\nconst Messages = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: scroll;\r\n  height: 70vh;\r\n`;\r\n\r\nconst Side = styled.aside`\r\n  width: 20%;\r\n`;\r\n\r\nexport default MailBox;\r\n","import React, { useContext } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\nimport Settings from './components/auth/Settings';\nimport Header from './components/layout/Header';\nimport Footer from './components/layout/Footer';\nimport Home from './components/views/Home';\nimport Contact from './components/views/Contact';\nimport About from './components/views/About';\nimport Profile from './components/views/Profile';\nimport UserPage from './components/views/UserPage';\nimport SearchStore from './components/views/SearchStore';\nimport SearchAPI from './components/views/SearchAPI';\nimport Catalog from './components/views/Catalog';\nimport AddCard from './components/views/AddCard';\nimport NotFound from './components/views/NotFound';\nimport ShoppingCart from './components/views/ShoppingCart';\nimport Confirmation from './components/views/Confirmation';\nimport RemoveCard from './components/views/RemoveCard';\nimport ModifyCard from './components/views/ModifyCard';\nimport MailBox from './components/views/mail/MailBox';\nimport { UserContext } from './contexts/UserContext';\nimport { CardContext } from './contexts/CardContext';\nimport './App.css';\n\nconst App = () => {\n  const { user } = useContext(UserContext);\n  const { cardContext } = useContext(CardContext);\n\n  return (\n    <Router>\n      <Header />\n      <section className=\"container\">\n        <Switch>\n          <Route exact path=\"/\">\n            {!user ? <Home /> : <Redirect to=\"/me\" />}\n          </Route>\n          <Route exact path=\"/about\">\n            <About />\n          </Route>\n          <Route exact path=\"/contact\">\n            <Contact />\n          </Route>\n          <Route exact path=\"/login\">\n            {!user ? <Login /> : <Redirect to=\"/me\" />}\n          </Route>\n          <Route exact path=\"/register\">\n            <Register />\n          </Route>\n          <Route exact path=\"/settings\">\n            {user ? <Settings /> : <Redirect to=\"/login\" />}\n          </Route>\n          <Route exact path=\"/me\">\n            {user ? <UserPage /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/add-card/:cardName\">\n            {cardContext ? <AddCard /> : <Redirect to=\"/search-api\" />}\n          </Route>\n          <Route exact path=\"/cart\">\n            <ShoppingCart />\n          </Route>\n          <Route exaxt path=\"/confirmation\">\n            {user ? <Confirmation /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/profile\">\n            {user ? <Profile /> : <Redirect to=\"/login\" />}\n          </Route>\n          <Route exact path=\"/store\">\n            {user ? <SearchStore /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/search-api\">\n            {user ? <SearchAPI /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/catalog/:search\">\n            <Catalog />\n          </Route>\n          <Route exact path=\"/remove-card\">\n            {cardContext ? <RemoveCard /> : <Redirect to=\"/store\" />}\n          </Route>\n          <Route exact path=\"/modify-card\">\n            {cardContext ? <ModifyCard /> : <Redirect to=\"/store\" />}\n          </Route>\n          <Route exact path=\"/mail/inbox\">\n            {user ? <MailBox /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/mail/:handle/:handle\">\n            {user ? <MailBox /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/mail/unread\">\n            {user ? <MailBox /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/mail/sent\">\n            {user ? <MailBox /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/mail/trash\">\n            {user ? <MailBox /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/mail/message\">\n            {user ? <MailBox /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch>\n      </section>\n      <Footer />\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { RouteProvider } from './contexts/RouteContext';\nimport { PathProvider } from './contexts/PathContext';\nimport { UserProvider } from './contexts/UserContext';\nimport { MailProvider } from './contexts/MailContext';\nimport { SearchProvider } from './contexts/SearchContext';\nimport { CardProvider } from './contexts/CardContext';\nimport { ShoppingCartProvider } from './contexts/ShoppingCartContext';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <RouteProvider>\n      <PathProvider>\n        <UserProvider>\n          <MailProvider>\n            <SearchProvider>\n              <CardProvider>\n                <ShoppingCartProvider>\n                  <App />\n                </ShoppingCartProvider>\n              </CardProvider>\n            </SearchProvider>\n          </MailProvider>\n        </UserProvider>\n      </PathProvider>\n    </RouteProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}