(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c,a,s=n(1),i=n.n(s),r=n(25),o=n.n(r),l=n(2),j=n(0),d=Object(s.createContext)(null),b=function(e){var t=e.children,n=Object(s.useState)(!1),c=Object(l.a)(n,2),a=c[0],i=c[1];return Object(j.jsx)(d.Provider,{value:{notFound:a,setNotFound:i},children:t})},u=Object(s.createContext)(null),h=function(e){var t=e.children,n=Object(s.useState)(""),c=Object(l.a)(n,2),a=c[0],i=c[1];return Object(j.jsx)(u.Provider,{value:{path:a,setPath:i},children:t})},O=Object(s.createContext)(null),m=function(e){var t=e.children,n=Object(s.useState)(JSON.parse(localStorage.getItem("user"))),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)(0),o=Object(l.a)(r,2),d=o[0],b=o[1];return Object(s.useEffect)((function(){localStorage.getItem("user")&&i(JSON.parse(localStorage.getItem("user")))}),[]),Object(s.useEffect)((function(){if(a){var e=new Headers;e.append("Content-type","application/json"),e.append("auth-token",a.token);var t={method:"GET",headers:e};fetch("/api/messages/unread/".concat(a.id),t).then((function(e){return e.json()})).then((function(e){if(e.data&&e.data){var t=e.data.filter((function(e){return!e.isRead&&!e.isTrash}));b(t.length)}})).catch((function(e){return console.log(e)}))}}),[a]),Object(j.jsx)(O.Provider,{value:{user:a,setUser:i,unreadMail:d,setUnreadMail:b},children:t})},x=Object(s.createContext)(null),g=function(e){var t=e.children,n=Object(s.useContext)(O).user,c=Object(s.useState)([]),a=Object(l.a)(c,2),i=a[0],r=a[1],o=Object(s.useState)([]),d=Object(l.a)(o,2),b=d[0],u=d[1];return Object(s.useEffect)((function(){n&&(r(n.messages.sent),u(n.messages.received))}),[n]),Object(j.jsx)(x.Provider,{value:{setSentMessages:r,sentMessages:i,setReceivedMessages:u,receivedMessages:b},children:t})},p=Object(s.createContext)(null),f=function(e){var t=e.children,n=Object(s.useState)([]),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)(!1),o=Object(l.a)(r,2),d=o[0],b=o[1],u=Object(s.useState)(!0),h=Object(l.a)(u,2),O=h[0],m=h[1],x=Object(s.useState)(!1),g=Object(l.a)(x,2),f=g[0],A=g[1],C=Object(s.useState)(null),v=Object(l.a)(C,2),S=v[0],y=v[1],w=Object(s.useState)(!1),E=Object(l.a)(w,2),N=E[0],B=E[1],I=Object(s.useState)(""),k=Object(l.a)(I,2),F=k[0],Q=k[1],D=Object(s.useState)(""),G=Object(l.a)(D,2),R=G[0],U=G[1];return Object(j.jsx)(p.Provider,{value:{searchTerm:R,setSearchTerm:U,searchResult:a,setSearchResult:i,isValidLength:d,setIsValidLength:b,showSuggestions:O,setShowSuggestions:m,isSubmitted:f,setIsSubmitted:A,sentForm:S,setSentForm:y,hasFocus:N,setHasFocus:B,text:F,setText:Q},children:t})},A=Object(s.createContext)(null),C=function(e){var t=e.children,n=Object(s.useContext)(O).user,c=(Object(s.useContext)(p).isValidLength,Object(s.useContext)(u).path),a=Object(s.useState)(!1),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)([]),b=Object(l.a)(d,2),h=b[0],m=b[1],x=Object(s.useState)(0),g=Object(l.a)(x,2),f=g[0],C=g[1],v=Object(s.useState)([]),S=Object(l.a)(v,2),y=S[0],w=S[1],E=Object(s.useState)(!1),N=Object(l.a)(E,2),B=N[0],I=N[1];return Object(s.useEffect)((function(){fetch("https://api.scryfall.com/catalog/card-names",{method:"GET"}).then((function(e){return e.json()})).then((function(e){m(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){if(n&&"store"===c){var e=n.token,t=n.id,a=new Headers;a.append("Content-Type","application/json"),a.append("auth-token",e);var s={method:"GET",headers:a};fetch("/api/cards/".concat(t),s).then((function(e){return e.json()})).then((function(e){w(e.data)})).catch((function(e){return console.log(e)}))}}),[c]),Object(j.jsx)(A.Provider,{value:{cardContext:r,setCardContext:o,apiCardNames:h,setApiCardNames:m,userStoreContent:y,setUserStoreContent:w,loading:B,setLoading:I,tracker:f,setTracker:C},children:t})},v=Object(s.createContext)(null),S=function(e){var t=e.children,n=Object(s.useState)([]),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)(0),o=Object(l.a)(r,2),d=o[0],b=o[1],u=Object(s.useState)(0),h=Object(l.a)(u,2);h[0],h[1];return Object(s.useEffect)((function(){d&&localStorage.setItem("shopping-cart-items",JSON.stringify(d))}),[d]),Object(s.useEffect)((function(){var e=0;a.forEach((function(t){e+=parseInt(t.quantity_selected)})),b(e),a.length>0&&localStorage.setItem("shopping-cart",JSON.stringify(a))}),[a]),Object(s.useEffect)((function(){localStorage.getItem("shopping-cart")&&(i(JSON.parse(localStorage.getItem("shopping-cart"))),b(JSON.parse(localStorage.getItem("shopping-cart-items"))))}),[]),Object(j.jsx)(v.Provider,{value:{cartItems:a,setCartItems:i,itemsCount:d,setItemsCount:b},children:t})},y=n(5),w=n(7),E=n(4),N=n(14),B=n(12),I=function(e,t){var n=Object(s.useState)({email:"",password:""}),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)({}),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(s.useState)(!1),u=Object(l.a)(b,2),h=u[0],O=u[1];return Object(s.useEffect)((function(){0===Object.keys(j).length&&h&&e(a)}),[j]),{handleChange:function(e){var t=e.target,n=t.name,c=t.value;i(Object(B.a)(Object(B.a)({},a),{},Object(N.a)({},n,c)))},values:a,handleClick:function(e){e.preventDefault(),d(t(a)),O(!0)},errors:j}},k=function(e){var t={};return e.email.trim()||(t.email="Email is required"),e.password||(t.password="Password is Required"),t},F=n(3),Q=F.a.div(c||(c=Object(E.a)([""]))),D=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)(!1),b=Object(l.a)(d,2),u=b[0],h=b[1],m=Object(s.useContext)(O).setUser,x=Object(w.g)(),g=I((function(e){c(e.email),o(e.password),h(!0)}),k),p=g.handleChange,f=g.values,A=g.handleClick,C=g.errors;return Object(s.useEffect)((function(){if(!u)return console.log("invalid");var e={email:n,password:r},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/api/users/login",t).then((function(e){return e.ok?e.json():e.text().then((function(e){throw new Error(e)}))})).then((function(e){console.log(e.data);var t={auth:!0,token:e.token,name:e.data.name,email:e.data.email,country:e.data.country,id:e.data._id,cards:e.data.cards,date:e.data.date,messages:e.data.messages};m(t),localStorage.setItem("user",JSON.stringify(t)),x.push({pathname:"/me"})})).catch((function(e){console.log(e)}))}),[u]),Object(j.jsx)(Q,{children:Object(j.jsxs)("form",{className:"form",children:[Object(j.jsx)("h2",{className:"page-title",children:"Login"}),Object(j.jsxs)("div",{className:"form-element",children:[C.email?Object(j.jsx)("p",{className:"error",children:C.email}):Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)("input",{className:C.email&&"empty-field",id:"email",type:"text",name:"email",value:f.email,onChange:p,placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-element",children:[C.password?Object(j.jsx)("p",{className:"error",children:C.password}):Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)("input",{className:C.password&&"empty-field",id:"password",type:"password",name:"password",value:f.password,onChange:p,placeholder:"Password"}),Object(j.jsx)("div",{className:"item-buttons push-right",children:Object(j.jsx)("button",{className:"item-button success",onClick:A,children:"Log In"})})]})]})})},G=function(e,t){var n=Object(s.useState)({name:"",email:"",country:"",password:""}),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)({}),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(s.useState)(!1),u=Object(l.a)(b,2),h=u[0],O=u[1];return Object(s.useEffect)((function(){0===Object.keys(j).length&&h&&e(a)}),[j]),{handleChange:function(e){var t=e.target,n=t.name,c=t.value;i(Object(B.a)(Object(B.a)({},a),{},Object(N.a)({},n,c)))},values:a,handleClick:function(e){e.preventDefault(),d(t(a)),O(!0)},errors:j}},R=function(e){var t={};return e.name||(t.name="Name is required"),e.email||(t.email="Email is required"),e.country||(t.country="Country is Required"),e.password||(t.password="Password is Required"),e.password2||(t.password2="Password is Required"),e.password&&e.password2&&e.password!==e.password2&&(t.password="Passwords don't match",t.password2="Passwords don't match"),t},U=(F.a.div(a||(a=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)(""),b=Object(l.a)(d,2),u=b[0],h=b[1],O=Object(s.useState)(""),m=Object(l.a)(O,2),x=m[0],g=m[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),A=(f[0],f[1]),C=Object(s.useState)(!1),v=Object(l.a)(C,2),S=v[0],y=v[1],E=Object(w.g)(),N=G((function(e){c(e.name),o(e.email),h(e.country),g(e.password),A(e.password2),y(!0)}),R),B=N.handleChange,I=N.values,k=N.handleClick,F=N.errors;return Object(s.useEffect)((function(){if(!S)return console.log("invalid");var e={name:n,email:r,country:u,password:x},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/api/users",t).then((function(e){return e.json()})).then((function(e){console.log("data",e),E.push("/login")})).catch((function(e){return console.log(e)}))}),[S]),Object(j.jsx)(s.Fragment,{children:Object(j.jsxs)("form",{className:"form",children:[Object(j.jsx)("h2",{className:"page-title",children:"Register"}),Object(j.jsxs)("div",{className:"form-element",children:[F.name?Object(j.jsx)("p",{className:"error",children:F.name}):Object(j.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(j.jsx)("input",{className:F.name&&"empty-field",id:"name",type:"text",name:"name",value:I.name,onChange:B,placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-element",children:[F.email?Object(j.jsx)("p",{className:"error",children:F.email}):Object(j.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(j.jsx)("input",{className:F.email&&"empty-field",id:"email",type:"text",name:"email",value:I.email,onChange:B,placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-element",children:[F.country?Object(j.jsx)("p",{className:"error",children:F.country}):Object(j.jsx)("label",{htmlFor:"country",children:"Country:"}),Object(j.jsx)("input",{className:F.country&&"empty-field",id:"country",type:"text",name:"country",value:I.country,onChange:B,placeholder:"Country"})]}),Object(j.jsxs)("div",{className:"form-element",children:[F.password?Object(j.jsx)("p",{className:"error",children:F.password}):Object(j.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(j.jsx)("input",{className:F.password&&"empty-field",id:"password",type:"password",name:"password",onChange:B,placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-element",children:[F.password2?Object(j.jsx)("p",{className:"error",children:F.password2}):Object(j.jsx)("label",{htmlFor:"password2",children:"Repeat Password:"}),Object(j.jsx)("input",{className:F.password2&&"empty-field",id:"password2",type:"password",name:"password2",value:I.password2,onChange:B,placeholder:"Repeat Password"}),Object(j.jsxs)("div",{className:"item-buttons",children:[Object(j.jsx)("button",{className:"item-button primary ",onClick:function(){c(""),o(""),h(""),g(""),A(""),y(!1)},children:"Clear"}),Object(j.jsx)("button",{className:"item-button success",onClick:k,children:"Register"})]})]})]})})});var M,Y,T,H,J=function(){return Object(j.jsx)("h2",{className:"page-title",children:"Settings"})},q=function(e){var t=e.card,n=(e.setRemoveCard,e.setModifyCard,Object(s.useContext)(O).user),c=Object(s.useContext)(A).setCardContext,a=(n.token,n.email,Object(w.g)());return Object(j.jsxs)("div",{className:"item-container",children:[Object(j.jsxs)("div",{className:"item-info",children:[Object(j.jsx)("div",{className:"item-image",children:Object(j.jsx)("img",{id:"item-image",src:t.image_uris&&t.image_uris.png})}),Object(j.jsxs)("div",{className:"item-details",children:[Object(j.jsx)("p",{children:t.set_name}),Object(j.jsxs)("p",{children:["Condition: ",Object(j.jsx)("strong",{children:t.condition.toUpperCase()})]}),Object(j.jsxs)("p",{children:["Quantity: ",Object(j.jsx)("strong",{children:t.quantity})]}),Object(j.jsxs)("p",{children:["Language: ",Object(j.jsx)("strong",{children:t.language.toUpperCase()})]}),Object(j.jsxs)("p",{children:["Price: ",Object(j.jsx)("strong",{children:t.price})]})]})]}),Object(j.jsxs)("div",{className:"item-buttons",children:[Object(j.jsx)("button",{className:"item-button success",onClick:function(){c(!0),a.push({pathname:"/modify-card",state:{data:t}})},children:"Modify"}),Object(j.jsx)("button",{className:"item-button danger",onClick:function(){c(!0),a.push({pathname:"/remove-card",state:{data:t}})},children:"Delete"})]})]})},L=function(e){var t=e.searchTerm,n=e.setPower,c=e.setHoverTarget,a=e.setHoverList,i=e.cardName,r=e.index,o=Object(s.useState)(""),d=Object(l.a)(o,2),b=d[0],u=d[1],h=Object(s.useState)(""),O=Object(l.a)(h,2),m=O[0],x=O[1],g=Object(s.useState)(""),p=Object(l.a)(g,2),f=p[0],C=p[1],v=Object(s.useContext)(A),S=(v.tracker,v.setTracker);Object(s.useEffect)((function(){var e=i.toLowerCase().indexOf(t.toLowerCase()),n=e+t.length;u(i.substring(0,e)),x(i.substring(e,n)),C(i.substring(n,i.length))}),[t]);return Object(j.jsxs)("li",{className:"suggestion",tabIndex:r,onMouseEnter:function(e){return function(e){a(!0),c(e.target),S(e.target.tabIndex+1),n(!0)}(e)},onMouseOut:function(){a(!1)},children:[b,Object(j.jsx)("strong",{children:m}),f]})},P=n(6),K=F.a.div(M||(M=Object(E.a)(["\n  position: relative;\n"]))),Z=F.a.div(Y||(Y=Object(E.a)(["\n  border: 1px solid #333;\n  display: flex;\n"]))),W=F.a.input(T||(T=Object(E.a)(["\n  display: inline-block;\n  padding: 10px;\n  font-size: 1em;\n  border: 1px solid #fff;\n  width: 100%;\n  &:focus {\n    outline: none;\n    border: 1px solid #fff;\n    box-shadow: 0;\n  }\n"]))),z=F.a.span(H||(H=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n\n  &:hover {\n  }\n"]))),V=function(e){var t=e.searchTerm,n=e.setSearchTerm,c=e.setRequestSent,a=e.cardNames,i=e.listItems,r=e.searchInput,o=e.isOn,d=e.form,b=Object(s.useState)(null),h=Object(l.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)(null),g=Object(l.a)(x,2),f=g[0],C=g[1],v=Object(s.useState)(null),S=Object(l.a)(v,2),y=S[0],w=S[1],E=Object(s.useState)(!1),N=Object(l.a)(E,2),B=N[0],I=N[1],k=Object(s.useState)(!1),F=Object(l.a)(k,2),Q=F[0],D=F[1],G=Object(s.useContext)(p),R=G.isValidLength,U=G.setIsValidLength,M=Object(s.useContext)(p),Y=M.text,T=M.setText,H=Object(s.useContext)(p),J=H.sentForm,q=H.setSentForm,V=Object(s.useContext)(p).setIsSubmitted,X=Object(s.useContext)(A),_=X.tracker,$=X.setTracker,ee=Object(s.useContext)(u).path;Object(s.useEffect)((function(){Q&&(D(!1),console.log(y),!y&&i?(O&&f&&(O.style.background="#efefef",f.style.background="#fff"),O&&!f&&(O.style.background="#efefef"),!O&&f&&(f.style.background="#fff"),O||f||!i.current.firstChild||(i.current.firstChild.style.background="#fff")):y&&i&&(O?(O.style.background="#fff",y.style.background="#e4e4e4",C(O),m(y)):(y.style.background="#e4e4e4",C(y),m(y))))}),[O,y]),Object(s.useEffect)((function(){r&&(r.current.value=""),n&&n("")}),[ee]);var te=function(e){if(i){if(w(!1),"ArrowDown"===e.key){D(!0);var t="";if(_===i.current.childNodes.length)return console.log("cant go any higher");0===_?(t=i.current.firstChild,m(t),C(null),c(!1)):!O&&f?(t=f,C(null),m(t)):(t=O.nextSibling,C(O),m(O.nextSibling)),$(_+1),t&&(r.current.value=t.textContent)}if("ArrowUp"===e.key){D(!0);var n="";if(0===_)return console.log("cant go any lower");0===O.tabIndex?(C(null),m(null)):(n=O.previousSibling,C(O),m(O.previousSibling)),$(_-1),n&&(r.current.value=n.textContent)}}};Object(s.useEffect)((function(){return document.addEventListener("keydown",te),function(){return document.removeEventListener("keydown",te)}}));return Object(j.jsxs)(K,{children:[Object(j.jsxs)(Z,{children:[Object(j.jsx)(W,{type:"text",value:o?t:"",onChange:function(e){return function(e){T(e.target.value),n(e.target.value)}(e)},onFocus:function(e){return console.log(d.current.id),console.log(J),J&&J!==d.current.id&&n&&n(""),$(0),q(d.current.id),void(Y.length>2&&(U(!0),I(!1)))},onBlur:function(e){m(null),C(null),B||U(!1)},placeholder:d.current&&("search-catalog"===d.current.id?"Search Magic Find":"search-api"===d.current.id?"Search Skryfall API":"Search Your Store"),ref:r}),Object(j.jsx)(z,{onClick:function(){},children:Object(j.jsx)(P.e,{size:20})})]}),Object(j.jsx)("ul",{onClick:function(e){return function(e){var t="";"LI"===e.target.nodeName?t=e.target.textContent:"STRONG"===e.target.nodeName&&(t=e.target.parentNode.textContent),n(t.toLowerCase()),V(!0)}(e)},onMouseLeave:function(e){return I(!1)},id:"search-result",className:"search-result",ref:i,children:a&&a.map((function(e,n){return R&&Object(j.jsx)(L,{searchTerm:t,setPower:D,setHoverTarget:w,setHoverList:I,cardName:e,index:n},e)}))})]})},X=function(){return Object(j.jsx)("img",{src:"data:image/gif;base64,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",alt:"Spinner",style:{width:"200px",margin:"auto",display:"block"}})},_=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1]),c=Object(s.useState)(""),a=Object(l.a)(c,2),i=a[0],r=a[1],o=Object(s.useState)(""),d=Object(l.a)(o,2),b=(d[0],d[1]),h=Object(s.useState)([]),O=Object(l.a)(h,2),m=O[0],x=O[1],g=Object(s.useState)(!1),f=Object(l.a)(g,2),C=(f[0],f[1]),v=Object(s.useState)(!1),S=Object(l.a)(v,2),y=S[0],E=S[1],N=Object(s.useState)([]),B=Object(l.a)(N,2),I=B[0],k=B[1],F=Object(s.useContext)(p).setIsValidLength,Q=Object(s.useContext)(p),D=Q.isSubmitted,G=Q.setIsSubmitted,R=Object(s.useContext)(p),U=R.showSuggestions,M=R.setShowSuggestions,Y=Object(s.useContext)(p),T=(Y.searchResult,Y.setSearchResult,Object(s.useContext)(p).setText),H=Object(s.useContext)(p).sentForm,J=(Object(s.useContext)(A).userStoreContent,Object(s.useContext)(A).setTracker),q=Object(s.useContext)(u),L=q.path,P=(q.setPath,Object(w.g)()),K=Object(s.useRef)(null),Z=Object(s.useRef)(null),W=Object(s.useRef)(null);Object(s.useEffect)((function(){localStorage.getItem("catalogCardName")&&("all"===localStorage.getItem("catalogCardName")||(b(localStorage.getItem("catalogCardName")),z()))}),[]);Object(s.useEffect)((function(){D&&U?(z(),M(!1)):M(!0)}),[D]),Object(s.useEffect)((function(){if(i.length<3)F(!1);else if(i.length>2){F(!0),x([]),n(!0);var e=new Headers;e.append("Content-Type","application/json"),fetch("/api/catalog",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){k(e.data),n(!1)})).catch((function(e){return console.log(e)}))}}),[i]),Object(s.useEffect)((function(){if(I.length>0){console.log(I);var e=[];I.forEach((function(t){t.name.toLowerCase().includes(i.toLowerCase())&&!e.includes(t.name)&&e.push(t.name)})),x(e)}}),[I]);var z=function(e){if(H===W.current.id){if(!i)return console.log("Field is empty");var t="";e?(e.preventDefault(),M(!1),G(!0),t=Z.current.value):t=i||localStorage.getItem("searchCatalog"),n(!0);var c=new Headers;c.append("Content-Type","application/json");var a={method:"GET",headers:c};fetch("/api/catalog/".concat(t),a).then((function(e){return e.json()})).then((function(e){n(!1),r(""),F(!1),G(!1),T(""),J(0),"catalog"!==L&&P.push({pathname:"/catalog/".concat(t),state:{result:e.data}})})).catch((function(e){return console.log(e)}))}};return Object(s.useEffect)((function(){"search-catalog"===H?E(!0):(E(!1),r(""))}),[H]),Object(j.jsx)(s.Fragment,{children:Object(j.jsx)("form",{id:"search-catalog",className:"search-catalog",onSubmit:function(e){return z(e)},ref:W,children:H&&"search-catalog"!==H?Object(j.jsx)(V,{form:W}):Object(j.jsx)(V,{searchTerm:i,setSearchTerm:r,setRequestSent:C,cardNames:m,listItems:K,searchInput:Z,isOn:y,form:W})})})};var $,ee,te,ne,ce,ae,se,ie,re,oe,le,je,de,be,ue,he,Oe,me,xe,ge,pe,fe,Ae,Ce,ve,Se,ye,we,Ee,Ne,Be,Ie,ke,Fe,Qe,De,Ge,Re,Ue,Me,Ye,Te=function(e){e.setDisplay;var t=e.setUser,n=Object(w.g)(),c=Object(s.useContext)(O).setUnreadMail,a=Object(s.useContext)(v),i=a.setCartItems,r=a.setItemsCount;return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(y.b,{to:"/store",children:"Store"})}),Object(j.jsx)("li",{children:Object(j.jsx)(y.b,{to:"/profile",children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)(y.b,{to:"/settings",children:"Settings"})}),Object(j.jsx)("li",{children:Object(j.jsx)("div",{className:"signout",onClick:function(){return localStorage.clear(),t(null),c(0),i([]),r(0),void n.push("/")},children:"Logout"})})]})},He=function(e){var t=e.navCheckBox,n=e.searchCheckbox,c=Object(s.useState)(!0),a=Object(l.a)(c,2),i=a[0],r=a[1],o=Object(s.useContext)(O),d=o.user,b=o.setUser;return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("input",{type:"checkbox",id:"nav-toggle",className:"nav-toggle",ref:t,onChange:function(e){!function(e){e.target.checked&&n.current.checked&&(n.current.checked=!1)}(e)}}),Object(j.jsx)("label",{htmlFor:"nav-toggle",className:"nav-toggle-label",children:Object(j.jsx)("span",{})}),Object(j.jsx)("nav",{id:"navbar",className:"navbar",children:Object(j.jsx)("ul",{className:"nav--list-items",onClick:function(e){document.getElementById("nav-toggle").checked=!1},children:d?Object(j.jsx)(s.Fragment,{children:i?Object(j.jsx)(Te,{setDisplay:r,setUser:b}):""}):Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(y.b,{to:"/login",children:"Login"})}),Object(j.jsx)("li",{children:Object(j.jsx)(y.b,{to:"/register",children:"Register"})}),Object(j.jsx)("li",{children:Object(j.jsx)(y.b,{to:"/about",children:"About"})}),Object(j.jsx)("li",{children:Object(j.jsx)(y.b,{to:"/contact",children:"Contact"})})]})})})]})},Je=F.a.div($||($=Object(E.a)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: -10px;\n  left: 17px;\n  background: #dc3545;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  z-index: 10;\n"]))),qe=F.a.div(ee||(ee=Object(E.a)(["\n  text-align: center;\n  font-size: 0.8em;\n  font-weight: bold;\n  color: #fff;\n"]))),Le=F.a.div(te||(te=Object(E.a)(["\n  position: relative;\n"]))),Pe=F.a.div(ne||(ne=Object(E.a)(["\n  position: relative;\n"]))),Ke=F.a.div(ce||(ce=Object(E.a)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: -10px;\n  left: 17px;\n  background: #28a745;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  z-index: 10;\n"]))),Ze=F.a.div(ae||(ae=Object(E.a)(["\n  text-align: center;\n  font-size: 0.8em;\n  font-weight: bold;\n  color: #fff;\n"]))),We=function(){var e=Object(w.h)(),t=Object(s.useRef)(null),n=Object(s.useRef)(null),c=Object(s.useContext)(d).notFound,a=Object(s.useContext)(O),i=a.user,r=a.unreadMail,o=Object(s.useContext)(v).itemsCount;return Object(s.useEffect)((function(){t.current.checked=!1,n.current.checked=!1}),[e]),Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("div",{className:"section--logo",children:Object(j.jsx)("h1",{className:"logo",children:Object(j.jsx)(y.b,{to:"/",children:"Magic Find"})})}),!c&&Object(j.jsx)(He,{navCheckBox:t,searchCheckbox:n}),Object(j.jsxs)("div",{className:"section--icons",children:[i&&Object(j.jsx)(Pe,{className:"section--mail padding-right",children:Object(j.jsxs)(y.b,{to:"/mail/inbox",title:"Mailbox",children:[r>0&&Object(j.jsx)(Ke,{children:Object(j.jsx)(Ze,{children:r})}),Object(j.jsx)(P.b,{className:"header--icon",size:27})]})}),Object(j.jsxs)("div",{className:"section--search padding-right",children:[Object(j.jsx)("input",{type:"checkbox",id:"search-toggle",className:"search-toggle",ref:n,onChange:function(e){!function(e){e.target.checked&&t.current.checked&&(t.current.checked=!1)}(e)}}),Object(j.jsx)("label",{htmlFor:"search-toggle",className:"search-toggle-label",children:Object(j.jsx)(P.e,{className:"header--icon",size:27,title:"Search Catalog"})}),Object(j.jsx)("div",{className:"section searchbar",children:Object(j.jsx)(_,{className:"section searchbar"})})]}),Object(j.jsx)(Le,{className:"section--cart padding-right",children:Object(j.jsxs)(y.b,{to:"/cart",children:[o>0&&Object(j.jsx)(Je,{children:Object(j.jsx)(qe,{children:o})}),Object(j.jsx)(P.f,{size:27,title:"Shopping Cart"})]})})]})]})},ze=function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("div",{children:"Magic Find \u2022 Copyright \xa9 2022 \u2022 All Rights Reserved"})})},Ve=function(){var e=Object(s.useContext)(O).user;return console.log(e),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"page-title",children:"Home"}),Object(j.jsx)("div",{})]})},Xe=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{className:"page-title",children:"Contact"})})},_e=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{className:"page-title",children:"About"})})},$e=function(){var e=Object(s.useContext)(O).user;return console.log(e),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"page-title",children:"Profile"}),Object(j.jsx)("div",{children:e.name}),Object(j.jsx)("div",{children:e.country})]})},et=function(){Object(s.useContext)(O).user;var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1],Object(s.useState)(!1)),c=Object(l.a)(n,2);c[0],c[1],Object(w.g)();return Object(j.jsxs)("main",{className:"user-page-container",children:[Object(j.jsx)(y.b,{to:"/store",children:Object(j.jsxs)("section",{className:"user-page-section to-store",children:[Object(j.jsx)("h2",{children:"Manage Your Store"}),Object(j.jsxs)("article",{children:[Object(j.jsx)("p",{children:"Go to your to your store to modify it's content."}),Object(j.jsx)("p",{children:"You can add or remove a card. You can also modify the information of existing cards."})]})]})}),Object(j.jsx)(y.b,{to:"/search-api",children:Object(j.jsxs)("section",{className:"user-page-section  to-addcard",children:[Object(j.jsx)("h2",{children:"Add A New Card"}),Object(j.jsxs)("article",{children:[Object(j.jsx)("p",{children:"Search the Skyfall API for a specific card you wish to sell. You can set the condition, the quantity you want to sell and the price you wish to ask. You can also leave a comment to propestive buyers."}),Object(j.jsx)("p",{children:"Selling and buying cards as never been so easy!"})]})]})}),Object(j.jsx)(y.b,{to:"/profile",children:Object(j.jsxs)("section",{className:"user-page-section  to-profile",children:[Object(j.jsx)("h2",{children:"Modify Your Profile"}),Object(j.jsx)("article",{children:Object(j.jsx)("p",{children:"This section is under currently under development."})})]})})]})},tt=F.a.div(se||(se=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 100%;\n"]))),nt=F.a.button(ie||(ie=Object(E.a)(["\n  width: 100%;\n  margin-top: 1em;\n  border: 1px solid #e4e4e4;\n  background: #fff;\n  color: #333;\n  font-size: 1rem;\n  padding: 1em 0;\n  border-radius: 0.5em;\n\n  svg {\n    display: block;\n    margin-left: 1em;\n    width: 1.5em;\n    height: 1.5em;\n  }\n\n  &:hover {\n    border: 1px solid #333;\n  }\n\n  @media (max-width: 320px) {\n    width: 100%;\n    margin-top: 1em;\n  }\n"]))),ct=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!1),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)(!1),b=Object(l.a)(d,1)[0],h=Object(s.useState)(!1),m=Object(l.a)(h,1)[0],x=Object(s.useState)(""),g=Object(l.a)(x,2),f=g[0],C=g[1],v=Object(s.useState)(""),S=Object(l.a)(v,2),y=S[0],E=S[1],N=Object(s.useState)([]),B=Object(l.a)(N,2),I=B[0],k=B[1],F=Object(s.useState)(!1),Q=Object(l.a)(F,2),D=(Q[0],Q[1]),G=Object(s.useState)(!1),R=Object(l.a)(G,2),U=R[0],M=R[1],Y=Object(s.useContext)(p).setIsValidLength,T=Object(s.useContext)(O).user,H=Object(s.useContext)(p),J=H.isSubmitted,L=H.setIsSubmitted,P=Object(s.useContext)(p),K=P.showSuggestions,Z=P.setShowSuggestions,W=Object(s.useContext)(p).setText,z=Object(s.useContext)(p).sentForm,_=Object(s.useContext)(A).userStoreContent,$=Object(s.useContext)(A).setTracker,ee=Object(s.useContext)(u).setPath,te=Object(w.g)(),ne=Object(w.h)(),ce=Object(s.useRef)(null),ae=Object(s.useRef)(null),se=Object(s.useRef)(null);Object(w.i)();Object(s.useEffect)((function(){localStorage.getItem("storeCardName")&&("all"===localStorage.getItem("storeCardName")?re():(E(localStorage.getItem("storeCardName")),console.log("in card name",localStorage.getItem("storeCardName")),ie())),ee(ne.pathname.split("/")[1])}),[]),Object(s.useEffect)((function(){ae.current&&(J&&K?(ie(),ae.current.focus(),Z(!1)):Z(!0))}),[J]),Object(s.useEffect)((function(){if(f.length<3)Y(!1);else if(f.length>2){Y(!0);var e=[];_&&_.forEach((function(t){t.name.toLowerCase().includes(f.toLowerCase())&&!e.includes(t.name)&&e.push(t.name)})),k(e)}}),[f]);var ie=function(e){var t="";e?(e.preventDefault(),Z(!1),L(!0),t=ae.current.value):t=f||localStorage.getItem("storeCardName"),o(!0);var n=new Headers;n.append("Content-Type","application/json"),n.append("auth-token",T.token);var a={method:"GET",headers:n};fetch("/api/cards/".concat(t,"/").concat(T.id),a).then((function(e){return e.json()})).then((function(e){t&&localStorage.setItem("storeCardName",t),c(e.data),k([]),E(t),o(!1),C(""),Y(!1),L(!1),W(""),$(0),t=""})).catch((function(e){return console.log(e)}))},re=function(){o(!0);var e=new Headers;e.append("Content-Type","application/json"),e.append("auth-token",T.token);var t={method:"GET",headers:e};fetch("/api/cards/".concat(T.id),t).then((function(e){return e.json()})).then((function(e){localStorage.setItem("storeCardName","all"),c(e.data),E("Store Cards:"),o(!1)})).catch((function(e){return console.log(e)}))};Object(s.useEffect)((function(){o(!1)}),[n]);return Object(s.useEffect)((function(){"search-store"===z?M(!0):(M(!1),C(""))}),[z]),Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("h2",{className:"page-title",children:"Enter A Card Name"}),Object(j.jsx)("form",{id:"search-store",onSubmit:function(e){return ie(e)},ref:se,children:z&&"search-store"!==z?Object(j.jsx)(V,{form:se}):Object(j.jsx)(V,{searchTerm:f,setSearchTerm:C,setRequestSent:D,cardNames:I,listItems:ce,searchInput:ae,isOn:U,form:se})}),Object(j.jsxs)(tt,{children:[Object(j.jsx)(nt,{onClick:function(e){te.push("search-api"),localStorage.getItem("apiCardName")&&(localStorage.removeItem("apiCardName"),localStorage.removeItem("oracle"))},children:"Add Cards To Store"}),Object(j.jsx)(nt,{onClick:function(e){re()},children:"Show Cards In Store"})]}),Object(j.jsx)("div",{className:"store-search-results",children:r||!n?Object(j.jsx)(X,{}):Object(j.jsxs)(s.Fragment,{children:[y&&Object(j.jsxs)("header",{className:"search-header",children:[Object(j.jsx)("span",{children:"".concat(y.charAt(0).toUpperCase()).concat(y.substring(1).toLowerCase()," ").concat(n.length," \n              ")+(n.length>1?"Results":"Result")}),Object(j.jsx)("div",{className:"clear-search",onClick:function(){return c([]),E(""),localStorage.removeItem("storeCards"),void localStorage.removeItem("storeCardName")}})]}),Object(j.jsx)("div",{className:"catalog-items",children:n.map((function(e){return Object(j.jsx)(q,{card:e,setRemoveCard:b,setModifyCard:m},e._id)}))})]})})]})},at=function(e){var t=e.card,n=Object(s.useState)(0),c=Object(l.a)(n,2),a=(c[0],c[1],Object(s.useContext)(A).setCardContext),i=Object(w.g)();return Object(j.jsxs)("div",{className:"item-container",children:[Object(j.jsxs)("div",{className:"item-info",children:[Object(j.jsx)("div",{className:"item-image",children:Object(j.jsx)("img",{id:"item-image",src:t.image_uris&&t.image_uris.png})}),Object(j.jsxs)("div",{className:"item-details",children:[Object(j.jsx)("p",{children:Object(j.jsx)("strong",{children:t.set_name})}),Object(j.jsx)("p",{children:Object(j.jsxs)("strong",{children:[t.rarity," \u2022 #",t.collector_number]})}),Object(j.jsx)("p",{children:Object(j.jsx)("strong",{children:t.set_name})}),t.prices.usd?Object(j.jsxs)("p",{children:["Market Price: ",Object(j.jsxs)("strong",{children:["$",t.prices.usd]})]}):Object(j.jsx)("p",{children:"Market Price: Unavailable"})]})]}),Object(j.jsx)("div",{className:"item-buttons push-right",children:Object(j.jsx)("button",{className:"item-button success",onClick:function(){return a(!0),void i.push({pathname:"/add-card/".concat(t.name.toLowerCase()),state:{detail:t}})},children:"Select Card"})})]})},st=(F.a.div(re||(re=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),F.a.div(oe||(oe=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 6%;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]))),F.a.div(le||(le=Object(E.a)([""]))),function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)(!1),b=Object(l.a)(d,2),h=b[0],O=b[1],m=Object(s.useState)(""),x=Object(l.a)(m,2),g=x[0],f=x[1],C=Object(s.useState)([]),v=Object(l.a)(C,2),S=v[0],y=v[1],E=Object(s.useState)(!1),N=Object(l.a)(E,2),B=N[0],I=N[1],k=Object(s.useState)(""),F=Object(l.a)(k,2),Q=F[0],D=F[1],G=Object(s.useState)([]),R=Object(l.a)(G,2),U=R[0],M=R[1],Y=Object(s.useContext)(p),T=Y.isSubmitted,H=Y.setIsSubmitted,J=Object(s.useContext)(p).setIsValidLength,q=Object(s.useContext)(p).setText,L=Object(s.useContext)(p).sentForm,K=Object(s.useContext)(A).apiCardNames,Z=Object(s.useContext)(A).setTracker,W=Object(s.useContext)(u),z=W.path,_=W.setPath,$=Object(w.h)(),ee=Object(s.useRef)(null),te=Object(s.useRef)(null),ne=Object(s.useRef)(null),ce=function(e){if(L===ne.current.id){var t="";if(o(""),!Q||Q.length<3)return console.log("Search term is incomplete");if(t=Q,e)e.preventDefault(),K.filter((function(e){return e.toLowerCase()===Q.toLowerCase()})).length>0?(H(!0),t=Q):t=te.current.value;fetch("https://api.scryfall.com/cards/named?exact=".concat(function(e){var t=e.trim();return t.split(" ").join("+")}(t)),{method:"GET"}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("oracle",e.oracle_id),localStorage.setItem("apiCardName",e.name),y([]),f(e.name),o(e.oracle_id),D(""),J(!1),H(!1),Z(0),q("")})).catch((function(e){return console.log(e)}))}};Object(s.useEffect)((function(){"add-card"===z||"search-api"===$.pathname.split("/")[1]?(o(localStorage.getItem("oracle")),f(localStorage.getItem("apiCardName"))):(o(""),f("")),te.current&&(te.current.value=""),_($.pathname.split("/")[1])}),[z]),Object(s.useEffect)((function(){if(Q.length>2){J(!0),y([]);var e=K.filter((function(e){return e.toLowerCase().includes(Q.toLowerCase())}));console.log(e),y(e)}else Q.length<3&&J(!1)}),[Q]),Object(s.useEffect)((function(){T&&(ce(),te.current&&te.current.focus())}),[T]),Object(s.useEffect)((function(){if(r){c(!0);fetch("https://api.scryfall.com/cards/search?order=released&q=oracleid%3A".concat(r,"&unique=prints"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){M(function(e){return e.filter((function(e){return!e.set_name.toLowerCase().includes("online")}))}(e.data)),O(!0),localStorage.setItem("apiCards",JSON.stringify(e.data)),c(!1)})).catch((function(e){return console.log(e)}))}}),[r]);return Object(s.useEffect)((function(){"search-api"===L?I(!0):(I(!1),D(""))}),[L]),Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("h2",{className:"page-title",children:"Enter A Card Name"}),Object(j.jsx)("form",{id:"search-api",onSubmit:function(e){return ce(e)},ref:ne,children:L&&"search-api"!==L?Object(j.jsx)(V,{form:ne}):Object(j.jsx)(V,{searchTerm:Q,setSearchTerm:D,listItems:ee,searchInput:te,setRequestSent:O,requestSent:h,isOn:B,form:ne,cardNames:S})}),Object(j.jsx)("div",{children:n||!U?Object(j.jsx)(X,{}):Object(j.jsxs)(s.Fragment,{children:[r&&Object(j.jsxs)("header",{className:"search-header",children:[Object(j.jsx)("span",{children:"".concat(g.charAt(0).toUpperCase()).concat(g.substring(1).toLowerCase()," ").concat(U.length," \n              ")+(U.length>1?"Results":"Result")}),Object(j.jsx)("div",{className:"clear-search",onClick:function(){return M([]),f(""),o(""),localStorage.removeItem("oracle"),localStorage.removeItem("apiCardName"),void localStorage.removeItem("apiCards")},children:Object(j.jsx)(P.h,{size:22})})]}),Object(j.jsx)("div",{className:"catalog-items",children:U.map((function(e,t){return Object(j.jsx)(at,{card:e},t)}))})]})})]})}),it=n(13),rt=(F.a.div(je||(je=Object(E.a)([""]))),F.a.div(de||(de=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 4vh;\n  padding: 0 0.5em;\n  margin-top: 0.5em;\n  font-size: 0.9rem;\n\n  svg {\n    width: 1.5em;\n    heigth: 1.5em;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"])))),ot=Object(F.a)(y.b)(be||(be=Object(E.a)(["\n  padding: 0.5em;\n  margin-top: 0.5em;\n  color: red;\n  border: 1px solid #e4e4e4;\n"]))),lt=function(e){var t=e.card,n=Object(s.useState)(1),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)(!1),o=Object(l.a)(r,2),d=o[0],b=o[1],u=Object(s.useState)(!1),h=Object(l.a)(u,2),m=h[0],x=h[1],g=Object(s.useContext)(O).user,p=Object(s.useContext)(v),f=p.cartItems,A=p.setCartItems,C=(p.itemsCount,p.setItemsCount,Object(w.h)()),S=function(e){"add"===e.currentTarget.id?a<t.quantity&&i(parseInt(a)+1):"remove"===e.currentTarget.id&&a>1&&i(a-1)};return Object(s.useEffect)((function(){var e=f.find((function(e){return e._id===t._id}));e&&(console.log("foundItem",e),b(!0),i(e.quantity_selected))}),[C]),Object(j.jsx)("div",{className:m?"item-container loading":"item-container",children:Object(j.jsxs)(s.Fragment,{children:[Object(j.jsxs)("div",{className:"item-info",children:[Object(j.jsx)("div",{className:"item-image",children:Object(j.jsx)("img",{id:"item-image",src:t.image_uris&&t.image_uris.png})}),Object(j.jsxs)("div",{className:"item-details",children:[Object(j.jsx)("p",{children:Object(j.jsx)("strong",{children:t.set_name})}),Object(j.jsxs)("p",{children:["Condition: ",Object(j.jsx)("strong",{children:t.condition.toUpperCase()})]}),Object(j.jsxs)("p",{children:["Seller: ",Object(j.jsx)("strong",{children:t.userName})]}),Object(j.jsxs)("p",{children:["Ships From: ",Object(j.jsx)("strong",{children:t.userCountry})]}),Object(j.jsxs)("p",{children:[" ","Price: ",Object(j.jsxs)("strong",{children:["$",t.price]})]}),Object(j.jsxs)("p",{children:["Available: ",Object(j.jsx)("strong",{children:t.quantity})]}),g&&Object(j.jsx)(ot,{to:{pathname:"/mail/message",state:{sender:t.userName,subject:t.name}},children:"Contact Seller"}),Object(j.jsx)(rt,{className:"item-cart",style:{border:t.quantity_selected?"1px solid #e4e4e4":""},children:d&&function(e){var n=!1,c=f.find((function(t){return t._id===e._id}));return c&&(t.quantity_selected=c.quantity_selected,n=!0),n}(t)&&Object(j.jsxs)(s.Fragment,{children:[Object(j.jsxs)("p",{children:[t.quantity_selected," in Cart"]}),Object(j.jsx)(P.g,{onClick:function(){!function(e){b(!1),i(1),e.quantity_selected=0;var t=Object(it.a)(f);t.forEach((function(n,c){n._id===e._id&&t.splice(c,1)})),A(t),localStorage.setItem("shopping-cart",JSON.stringify(t))}(t)},size:20,title:"Remove Item"})]})})]})]}),Object(j.jsxs)("div",{className:"item-buttons",children:[Object(j.jsxs)("div",{className:"item-quantity",children:[Object(j.jsx)("div",{className:"add-remove-button",id:"remove",onClick:function(e){S(e)},children:Object(j.jsx)(P.c,{size:23})}),Object(j.jsx)("input",{type:"text",id:"quantity",name:"quantity",value:a}),Object(j.jsx)("div",{className:"add-remove-button",id:"add",onClick:function(e){S(e)},children:Object(j.jsx)(P.d,{size:23})})]}),Object(j.jsx)("button",{className:"item-button success",onClick:function(){return function(e){if(e.quantity_selected===a)return console.log("no change in quantity");var t=f.find((function(t){return t._id===e._id}));x(!0),fetch("/api/catalog/".concat(e.name,"/").concat(e._id,"/").concat(e.quantity_selected),{method:"GET",header:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){if(x(!1),console.log(n),n.data.isQuantityAvailable)if(t){f.find((function(t){return t._id===e._id})).quantity_selected=a;var c=Object(it.a)(f);A(c)}else e.quantity_selected=a,A((function(t){return[].concat(Object(it.a)(t),[e])}));else{e.quantity=n.card.quantity,t.quantity=n.card.quantity,e.quantity=n.card.quantity;var s=Object(it.a)(f);A(s)}})),b(!0)}(t)},children:d?"Update Cart":"Add To Cart"})]})]})})},jt=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(1),i=Object(l.a)(a,2),r=(i[0],i[1],Object(s.useState)(!1)),o=Object(l.a)(r,2),d=(o[0],o[1],Object(w.h)()),b=Object(w.i)().search,u=d.state.result;Object(s.useEffect)((function(){c(!0)}),[d]);return Object(j.jsx)("div",{children:n?Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("h2",{className:"page-title",children:"Search Results"}),Object(j.jsxs)("div",{className:"search-header",children:[Object(j.jsx)("span",{children:"".concat(b.charAt(0).toUpperCase()).concat(b.substring(1).toLowerCase()," ").concat(u.length," \n              ")+(u.length>1?"Results":"Result")}),Object(j.jsx)("div",{className:"clear-search",onClick:function(){c(!1)}})]}),Object(j.jsx)("div",{className:"catalog-items",children:u.map((function(e,t){return Object(j.jsx)(lt,{card:e},t)}))})]}):""})},dt=(F.a.div(ue||(ue=Object(E.a)(["\n  height: 80vh;\n"]))),Object(F.a)(y.b)(he||(he=Object(E.a)(["\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    opacity: 0.8;\n  }\n"])))),bt=F.a.span(Oe||(Oe=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),ut=F.a.span(me||(me=Object(E.a)(["\n  margin-left: 20px;\n"]))),ht=F.a.select(xe||(xe=Object(E.a)(["\n  display: block;\n  width: 100%;\n  padding: 3px;\n  font-size: 1em;\n"]))),Ot=F.a.textarea(ge||(ge=Object(E.a)(["\n  display: block;\n  width: 100%;\n  height: 15vh;\n  font-size: 0.9em;\n  font-family: sans-serif;\n"]))),mt=F.a.div(pe||(pe=Object(E.a)(["\n  display: flex;\n  justify-context: center;\n  align-items: center;\n"]))),xt=F.a.div(fe||(fe=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 10px;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),gt=function(e){var t=e.card,n=e.setIsSent,c=Object(w.h)(),a=Object(s.useState)("nm"),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)("en"),b=Object(l.a)(d,2),h=b[0],O=b[1],m=Object(s.useState)(1),x=Object(l.a)(m,2),g=x[0],p=x[1],f=Object(s.useState)(0),C=Object(l.a)(f,2),v=C[0],S=C[1],y=Object(s.useState)(""),E=Object(l.a)(y,2),N=E[0],B=E[1],I=(Object(s.useContext)(A).setCardContext,Object(s.useContext)(u)),k=I.path,F=I.setPath;Object(s.useEffect)((function(){F(c.pathname.split("/")[1])}),[]);var Q,D=function(e){"add"===e.currentTarget.id?p(parseInt(g)+1):"remove"===e.currentTarget.id&&g>1&&p(g-1)};return Object(s.useEffect)((function(){"modify-card"===k&&(o(t.condition),O(t.language),p(t.quantity),S(t.price),B(t.comment))}),[k]),Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("h2",{children:"Product Details"}),Object(j.jsxs)("header",{className:"search-header",children:["add-card"===k?Object(j.jsxs)(dt,{to:"/search-api",title:"Back To Search",children:[Object(j.jsx)(bt,{children:Object(j.jsx)(P.a,{size:26})}),Object(j.jsx)(ut,{children:"Back to Search"})]}):Object(j.jsxs)(dt,{to:"/store",title:"Back To Store",children:[Object(j.jsx)(bt,{children:Object(j.jsx)(P.a,{size:26})}),Object(j.jsx)(ut,{children:"Back to Store"})]}),Object(j.jsx)("span",{children:"".concat(t.name.charAt(0).toUpperCase()).concat(t.name.substring(1).toLowerCase())})]}),Object(j.jsx)("div",{className:"item-container",children:Object(j.jsxs)("div",{className:"item-info",children:[Object(j.jsx)("div",{className:"item-image",children:Object(j.jsx)("img",{id:"item-image",src:t.image_uris&&t.image_uris.png})}),Object(j.jsx)("div",{className:"item-details",children:"add-card"===k?Object(j.jsxs)(s.Fragment,{children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Name"}),": ",t.name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Market Price"}),": $",t.prices.usd," USD"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Foil"}),": ",t.foil?"Yes":"No"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Type"}),": ",t.type_line]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Set"}),": ",t.set_name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Rarity"}),": ",(Q=t.rarity,Q.charAt(0).toUpperCase()+Q.slice(1))]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Year"}),": ",t.frame]})]}):Object(j.jsxs)(s.Fragment,{children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Name"}),": ",t.name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Asking Price"}),": $",t.price]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Foil"}),": ",t.foil?"Yes":"No"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Condition"}),": ",t.condition]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Set"}),": ",t.set_name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Artist"}),": ",t.artist]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Year"}),": ",t.frame]})]})})]})}),Object(j.jsxs)("div",{className:"add-card-form",children:[Object(j.jsxs)("div",{className:"form-element",children:[Object(j.jsx)("label",{htmlFor:"condition",children:"Pick a condition: "}),Object(j.jsxs)(ht,{id:"condition",name:"condition",value:r,onChange:function(e){return o(e.target.value)},children:[Object(j.jsx)("option",{value:"nm",children:"Near Mint"}),Object(j.jsx)("option",{value:"sp",children:"Slightly Played"}),Object(j.jsx)("option",{value:"m",children:"Moderate"}),Object(j.jsx)("option",{value:"hp",children:"Heavy Played"}),Object(j.jsx)("option",{value:"d",children:"Dammaged"})]})]}),Object(j.jsxs)("div",{className:"form-element",children:[Object(j.jsx)("label",{htmlFor:"condition",children:"Card language: "}),Object(j.jsxs)(ht,{id:"condition",name:"condition",value:h,onChange:function(e){return O(e.target.value)},children:[Object(j.jsx)("option",{value:"en",children:"English"}),Object(j.jsx)("option",{value:"es",children:"Spanish"}),Object(j.jsx)("option",{value:"fr",children:"French"}),Object(j.jsx)("option",{value:"de",children:"German"}),Object(j.jsx)("option",{value:"it",children:"Italian"}),Object(j.jsx)("option",{value:"pt",children:"Portuguese"}),Object(j.jsx)("option",{value:"ja",children:"Japanese"}),Object(j.jsx)("option",{value:"ko",children:"Korean"}),Object(j.jsx)("option",{value:"ru",children:"Russian"}),Object(j.jsx)("option",{value:"zhs",children:"Simplified Chinese"}),Object(j.jsx)("option",{value:"zht",children:"Traditional Chinese"}),Object(j.jsx)("option",{value:"ph",children:"Phyrexian"})]})]}),Object(j.jsxs)("div",{className:"form-element",children:[Object(j.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),Object(j.jsxs)(mt,{children:[Object(j.jsx)(xt,{id:"remove",onClick:function(e){D(e)},children:Object(j.jsx)(P.c,{size:23})}),Object(j.jsx)("input",{type:"text",id:"quantity",name:"quantity",value:g,onChange:function(e){p(e.target.value)}})," ",Object(j.jsx)(xt,{id:"add",onClick:function(e){D(e)},children:Object(j.jsx)(P.d,{size:23})})]})]}),Object(j.jsxs)("div",{className:"form-element",children:[Object(j.jsx)("label",{htmlFor:"negotiable",children:"Asking Price"}),Object(j.jsx)("input",{type:"text",id:"price",name:"price",value:v,onChange:function(e){S(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-element",children:[Object(j.jsx)("label",{htmlFor:"comment",children:"Comments: "}),Object(j.jsx)(Ot,{id:"comment",name:"information",value:N,onChange:function(e){B(e.target.value)},placeholder:"Additionnal information"}),Object(j.jsx)("div",{className:"item-buttons push-right",children:Object(j.jsx)("button",{className:"item-button success",onClick:function(e){e.preventDefault(),t.condition=r,t.language=h,t.quantity=g,t.price=v,t.comment=N,n(!0)},children:"add-card"===k?"Add To Store":"Save Changes"})})]})]})]})},pt=function(){var e=Object(w.h)(),t=Object(w.g)(),n=Object(s.useState)(!1),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)(e.state.detail),o=Object(l.a)(r,2),d=o[0],b=(o[1],Object(s.useContext)(O).user),u=Object(s.useContext)(A).setCardContext;return Object(s.useEffect)((function(){if(a){var e={skryfallID:d.id,name:d.name,type_line:d.type_line,set_name:d.set_name,rarity:(s=d.rarity,s.charAt(0).toUpperCase()+s.slice(1)),image_uris:d.image_uris,artist:d.artist,frame:d.frame,condition:d.condition,language:d.language,foil:d.foil,quantity:parseInt(d.quantity),price:parseFloat(d.price),comment:d.comment,userName:b.name,userCountry:b.country,userID:b.id},n=new Headers;n.append("Content-Type","application/json"),n.append("auth-token",b.token);var c={method:"POST",headers:n,body:JSON.stringify(e)};fetch("/api/cards",c).then((function(e){return e.json()})).then((function(e){console.log(e),u(!1),t.push("/search-api")})).catch((function(e){return console.log(e)}))}var s}),[a]),Object(j.jsx)(gt,{card:d,setIsSent:i})},ft=function(){return(0,Object(s.useContext)(d).setNotFound)(!0),Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"404"})})},At=F.a.div(Ae||(Ae=Object(E.a)([""]))),Ct=F.a.div(Ce||(Ce=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  font-size: 0.9rem;\n  width: 100%;\n"]))),vt=F.a.div(ve||(ve=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.5em;\n  font-size: 0.8rem;\n"]))),St=F.a.footer(Se||(Se=Object(E.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  padding: 0.5em 1em 1em 0;\n  border-top: 1px solid #e4e4e4;\n\n  h4 {\n    margin-right: 1em;\n  }\n\n  p {\n    font-weight: 900;\n  }\n"]))),yt=F.a.div(ye||(ye=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 1em 1em 0.5em 0;\n  border-bottom: 1px solid #e4e4e4;\n\n  p {\n    font-weight: 900;\n  }\n"]))),wt=F.a.div(we||(we=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 10em;\n  padding: 0.5em 0;\n\n  select {\n    padding: 0.2em;\n    width: 4em;\n  }\n\n  button {\n    padding: 0.5em 1em;\n    color: #fff;\n    background: #dc3545;\n    border: 1px solid #dc3545;\n  }\n"]))),Et=(F.a.header(Ee||(Ee=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 1em;\n"]))),F.a.div(Ne||(Ne=Object(E.a)(["\n  width: 75%;\n  display: flex;\n  flex-direction: column;\n"]))),F.a.main(Be||(Be=Object(E.a)(["\n  display: flex;\n  width: 100%;\n  padding: 0 1em;\n  background: #e1e8ed;\n"]))),F.a.aside(Ie||(Ie=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  width: 25%;\n  background: #fff;\n  height: 20vh;\n  padding: 1em;\n  margin: 4em 0 1em 1em;\n\n  h3 {\n    text-align: center;\n    padding-bottom: em;\n  }\n\n  p {\n  }\n"]))),F.a.button(ke||(ke=Object(E.a)(["\n  width: 100%;\n  padding: 1em 0;\n  font-size: 1rem;\n\n  background: #ffc107;\n  border: none;\n"]))),F.a.div(Fe||(Fe=Object(E.a)(["\n  display: flex;\n  margin-bottom: 1em;\n\n  background: #fff;\n  width: 100%;\n"])))),Nt=F.a.div(Qe||(Qe=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 20%;\n  padding: 0.8em;\n"]))),Bt=F.a.img(De||(De=Object(E.a)(["\n  display: block;\n  width: 100%;\n"]))),It=function(e){var t=e.item,n=e.setIsUpdating,c=Object(s.useState)(!1),a=Object(l.a)(c,2),i=a[0],r=a[1],o=Object(s.useState)(1),d=Object(l.a)(o,2),b=d[0],u=d[1],h=Object(s.useContext)(v),O=h.cartItems,m=h.setCartItems;return Object(j.jsxs)(Et,{className:i?"loading":"",children:[Object(j.jsx)(Nt,{children:Object(j.jsx)(Bt,{src:t.image_uris.png})}),Object(j.jsxs)(Ct,{children:[Object(j.jsxs)(yt,{children:[Object(j.jsx)("h3",{children:t.name}),Object(j.jsxs)("p",{children:["$ ",t.price,".00"]})]}),Object(j.jsxs)(vt,{children:[Object(j.jsxs)(At,{children:[Object(j.jsxs)("p",{children:["Seller: ",t.userName]}),Object(j.jsxs)("p",{children:["Ships from: ",t.userCountry]}),Object(j.jsxs)("p",{children:["Card Condition: ",t.condition.toUpperCase()]})]}),Object(j.jsxs)(wt,{children:[Object(j.jsx)("select",{onChange:function(e){!function(e,t){O.forEach((function(c){c===t&&(c.quantity_selected=parseInt(e.target.value)),r(!0),n(!0),fetch("/api/catalog/".concat(t.name,"/").concat(t._id,"/").concat(t.quantity_selected),{method:"GET",header:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(!e.data.isQuantityAvailable)return console.log("Quantity not available");r(!1),n(!1),u(c.quantity_selected);var t=Object(it.a)(O);m(t)}))}))}(e,t)},children:Object(it.a)(new Array(t.quantity)).map((function(e,n){return n+1===t.quantity_selected?Object(j.jsx)("option",{value:n+1,selected:!0,children:n+1},n):Object(j.jsx)("option",{value:n+1,children:n+1},n)}))}),Object(j.jsx)("button",{onClick:function(){return function(e){O.forEach((function(t,n){t===e&&O.splice(n,1);var c=Object(it.a)(O);m(c)}))}(t)},children:"Delete"})]})]}),Object(j.jsxs)(St,{children:[Object(j.jsx)("h4",{children:"Total:"}),Object(j.jsx)("p",{children:b&&"$ ".concat(t.quantity_selected*t.price,".00")})]})]})]})};var kt,Ft,Qt,Dt,Gt,Rt,Ut,Mt,Yt,Tt,Ht,Jt,qt,Lt,Pt,Kt,Zt,Wt,zt,Vt,Xt,_t,$t,en,tn,nn,cn,an,sn,rn,on,ln,jn,dn,bn,un,hn,On,mn,xn,gn,pn,fn,An,Cn=F.a.header(Ge||(Ge=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 1em;\n"]))),vn=F.a.div(Re||(Re=Object(E.a)(["\n  width: 75%;\n  display: flex;\n  flex-direction: column;\n"]))),Sn=F.a.main(Ue||(Ue=Object(E.a)(["\n  display: flex;\n  width: 100%;\n  padding: 0 1em;\n  background: #e1e8ed;\n"]))),yn=F.a.aside(Me||(Me=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  width: 25%;\n  background: #fff;\n  height: 20vh;\n  padding: 1em;\n  margin: 4em 0 1em 1em;\n\n  h3 {\n    text-align: center;\n    padding-bottom: em;\n  }\n\n  p {\n  }\n"]))),wn=F.a.button(Ye||(Ye=Object(E.a)(["\n  width: 100%;\n  padding: 1em 0;\n  font-size: 1rem;\n\n  background: #ffc107;\n  border: none;\n"]))),En=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(0),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)(!1),b=Object(l.a)(d,2),u=(b[0],b[1],Object(s.useState)(!1)),h=Object(l.a)(u,2),m=h[0],x=h[1],g=Object(s.useContext)(O).user,p=Object(s.useContext)(v),f=p.cartItems,A=(p.setCartItems,Object(w.g)());return Object(s.useEffect)((function(){var e=0,t=0;f.forEach((function(n){t+=n.quantity_selected,e+=n.quantity_selected*n.price})),o(e),c(t)}),[f]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"page-title",children:"Shopping Cart"}),Object(j.jsxs)(Sn,{children:[f.length>0?Object(j.jsxs)(vn,{children:[Object(j.jsxs)(Cn,{children:[Object(j.jsx)("h3",{children:"Items"}),Object(j.jsx)("h3",{children:"Price"})]}),f&&f.map((function(e){return Object(j.jsx)(It,{item:e,setIsUpdating:x})}))]}):Object(j.jsx)("div",{children:"Your Cart is Empty"}),f.length>0?Object(j.jsxs)(yn,{className:m?"loading":"",children:[Object(j.jsx)("h3",{children:"Subtotal"}),Object(j.jsxs)("p",{children:["(".concat(n," items): "),Object(j.jsx)("strong",{children:"$ ".concat(r,".00")})]}),Object(j.jsx)(wn,{onClick:function(){!function(){if(g){var e={userID:g.id,cartItems:f},t={method:"PATCH",headers:{"Content-Type":"application/json","auth-token":g.token},body:JSON.stringify(e)};fetch("/api/cart/",t).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("error",e)}))}else A.push("/login")}()},children:"Checkout"})]}):""]})]})},Nn=function(){return Object(j.jsxs)(s.Fragment,{children:[" ",Object(j.jsx)("div",{children:"Confirmation"}),Object(j.jsx)("div",{children:Object(j.jsx)(y.b,{to:"/",children:"Back to Home Page"})})]})},Bn=(F.a.div(kt||(kt=Object(E.a)(["\n  height: 80vh;\n"]))),F.a.header(Ft||(Ft=Object(E.a)(["\n  display: flex;\n  width: 100%;\n  padding: 1.2% 0;\n  margin: 1% 0;\n  border-bottom: 1px solid #e4e4e4;\n  box-shadow: 0px 5px 5px -5px #e4e4e4;\n"]))),F.a.div(Qt||(Qt=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 1%;\n  font-size: 1.1em;\n  align-items: center;\n"]))),Object(F.a)(y.b)(Dt||(Dt=Object(E.a)(["\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    opacity: 0.8;\n  }\n"])))),In=F.a.span(Gt||(Gt=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),kn=F.a.span(Rt||(Rt=Object(E.a)(["\n  margin-left: 20px;\n"]))),Fn=(F.a.div(Ut||(Ut=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 50%;\n  margin: auto;\n  padding: 2%;\n"]))),F.a.div(Mt||(Mt=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 50%;\n"]))),F.a.img(Yt||(Yt=Object(E.a)(["\n  width: 100%;\n"]))),F.a.div(Tt||(Tt=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 40%;\n  padding-left: 5%;\n"]))),F.a.h2(Ht||(Ht=Object(E.a)(["\n  margin-bottom: 20px;\n"]))),F.a.div(Jt||(Jt=Object(E.a)([""]))),F.a.div(qt||(qt=Object(E.a)(["\n  width: 100%;\n  margin-top: 25px;\n"]))),F.a.button(Lt||(Lt=Object(E.a)(["\n  color: var(--extra-light-color);\n  background: var(--danger-color);\n  width: 100%;\n  padding: 15px 0;\n\n  font-size: 1rem;\n  border: none;\n"]))),function(){var e=Object(s.useContext)(O).user,t=Object(s.useContext)(A).setCardContext,n=Object(w.g)(),c=Object(w.h)().state.data,a=e.token;return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)("h2",{children:"Delete Product"}),Object(j.jsxs)("header",{className:"search-header",children:[Object(j.jsxs)(Bn,{to:"/store",title:"Back To Store",children:[Object(j.jsx)(In,{children:Object(j.jsx)(P.a,{size:26})}),Object(j.jsx)(kn,{children:"Back to Store"})]}),Object(j.jsx)("span",{children:"".concat(c.name.charAt(0).toUpperCase()).concat(c.name.substring(1).toLowerCase())})]}),Object(j.jsxs)("div",{className:"item-container",children:[Object(j.jsxs)("div",{className:"item-info",children:[Object(j.jsx)("div",{className:"item-image",children:Object(j.jsx)("img",{id:"item-image",src:c.image_uris&&c.image_uris.png})}),Object(j.jsxs)("div",{className:"item-details",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Name"}),": ",c.name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Asking Price"}),": $",c.price]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Foil"}),": ",c.foil?"Yes":"No"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Condition"}),": ",c.condition]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Set"}),": ",c.set_name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Artist"}),": ",c.artist]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Year"}),": ",c.frame]})]})]}),Object(j.jsx)("div",{className:"item-buttons push-right",children:Object(j.jsx)("button",{className:"item-button danger full-width",onClick:function(){!function(){var s=new Headers;s.append("Content-Type","application/json"),s.append("auth-token",a);var i={cardID:c._id,userID:e.id},r={method:"DELETE",headers:s,body:JSON.stringify(i)};fetch("/api/cards/",r).then((function(e){return e.json()})).then((function(e){console.log(e),t(!1),n.push({pathname:"/store",state:{message:"Card successfully deleted"}})})).catch((function(e){return console.log("error",e)}))}()},children:"Delete Permanently"})})]})]})}),Qn=function(){var e=Object(w.g)(),t=Object(w.h)(),n=Object(s.useState)(!1),c=Object(l.a)(n,2),a=c[0],i=c[1],r=Object(s.useState)(t.state.data),o=Object(l.a)(r,2),d=o[0],b=(o[1],Object(s.useContext)(O).user),u=Object(s.useContext)(A).setCardContext;return Object(s.useEffect)((function(){if(a){var t={condition:d.condition,language:d.language,quantity:parseInt(d.quantity),price:parseFloat(d.price),comment:d.comment,userID:d.user_id,cardID:d._id},n=new Headers;n.append("Content-Type","application/json"),n.append("auth-token",b.token);var c={method:"PATCH",headers:n,body:JSON.stringify(t)};fetch("/api/cards/modify",c).then((function(e){return e.json()})).then((function(t){u(!1),e.push({pathname:"/store",state:{message:"Card successfully updated"}})})).catch((function(e){return console.log("error",e)}))}}),[a]),Object(j.jsx)(gt,{card:d,setIsSent:i})},Dn=function(e){return e.split("/")[2]},Gn=(F.a.span(Pt||(Pt=Object(E.a)(["\n  display: block;\n  margin-left: 10px;\n"]))),F.a.aside(Kt||(Kt=Object(E.a)(["\n  width: 98%;\n  padding: 10px;\n  border: 1px solid #f5f8fa;\n"]))),F.a.ul(Zt||(Zt=Object(E.a)(["\n  margin-top: 20px;\n  margin-bottom: 40px;\n"]))),F.a.li(Wt||(Wt=Object(E.a)(["\n  a {\n    display: block;\n    width: 100%;\n    padding: 8px 10px;\n    border: 1px solid #fff;\n  }\n  a:hover {\n    background: #f5f8fa;\n    border: 1px solid #f1f9ff;\n  }\n"])))),Rn=(F.a.button(zt||(zt=Object(E.a)(["\n  text-align: center;\n  width: 100%;\n  padding: 10px 0;\n  background: #28a745;\n  color: #fff;\n  font-size: 1rem;\n  border: 2px solid #28a745;\n"]))),function(e){var t=e.isTrash,n=e.checkedState,c=e.setMessages,a=e.setLoading,i=e.messages,r=e.user,o=Object(w.h)(),l=Object(w.g)(),d=Object(s.useContext)(u),b=d.path,h=d.setPath;Object(s.useEffect)((function(){b!==Dn(o.pathname)&&localStorage.removeItem("message"),h(Dn(o.pathname))}),[o]);return Object(j.jsx)("div",{className:".mailbox-sidebar-container",children:Object(j.jsxs)("div",{className:"mailbox-sidebar",children:[Object(j.jsxs)("div",{className:"mailbox-sidebar-header",children:[Object(j.jsx)("button",{className:"compose-message",onClick:function(){h("message"),l.push("/mail/message")},children:"Compose"}),t&&o.pathname.includes("trash")?Object(j.jsx)("button",{className:"remove-message",onClick:function(){var e=[];n.forEach((function(t,n){t&&e.push(i[n])}));var t={userID:r.id,toBeDeleted:e},a=new Headers;a.append("Content-type","application/json"),a.append("auth-token",r.token);var s={method:"DELETE",headers:a,body:JSON.stringify(t)};fetch("/api/messages/delete",s).then((function(e){return e.json()})).then((function(e){localStorage.removeItem("message"),c(e.data.length>0?e.data:[]),h(Dn(o.pathname)),l.push("/mail/".concat(b))}))},children:"Delete"}):t?Object(j.jsx)("button",{className:"remove-message",onClick:function(e){var t=[];localStorage.getItem("message")?t.push(JSON.parse(localStorage.getItem("message"))):n.forEach((function(e,n){e&&t.push(i[n])})),a(!0);var s={userID:r.id,trashed:t,path:b},j=new Headers;j.append("Content-type","application/json"),j.append("auth-token",r.token);var d={method:"PATCH",headers:j,body:JSON.stringify(s)};fetch("/api/messages/",d).then((function(e){return e.json()})).then((function(e){a(!1),localStorage.removeItem("message"),c(e.data),h(Dn(o.pathname)),l.push("/mail/".concat(b))}))},children:"Trash"}):""]}),Object(j.jsxs)("ul",{className:"mailbox-sidebar-options",children:[Object(j.jsx)(Gn,{children:Object(j.jsx)(y.b,{style:{border:o.pathname.includes("inbox")&&"1px solid #e1e8ed"},to:"/mail/inbox",children:"Inbox"})}),Object(j.jsx)(Gn,{children:Object(j.jsx)(y.b,{style:{border:o.pathname.includes("unread")&&"1px solid #e1e8ed"},to:"/mail/unread",children:"Unread"})}),Object(j.jsx)(Gn,{children:Object(j.jsx)(y.b,{style:{border:o.pathname.includes("sent")&&"1px solid #e1e8ed"},to:"/mail/sent",children:"Sent"})}),Object(j.jsx)(Gn,{children:Object(j.jsx)(y.b,{style:{border:o.pathname.includes("trash")&&"1px solid #e1e8ed"},to:"/mail/trash",children:"Trash"})})]})]})})}),Un=(F.a.div(Vt||(Vt=Object(E.a)(["\n  position: relative;\n  width: 10%;\n"]))),F.a.input(Xt||(Xt=Object(E.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n"]))),F.a.div(_t||(_t=Object(E.a)(["\n  width: 10%;\n  display: flex;\n  justify-content: flex-end;\n"]))),F.a.header($t||($t=Object(E.a)(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  padding: 10px 0;\n  color: #fff;\n  background: #636363;\n"]))),F.a.div(en||(en=Object(E.a)([""]))),F.a.div(tn||(tn=Object(E.a)(["\n  width: 50%;\n"]))),F.a.h2(nn||(nn=Object(E.a)(["\n  font-size: 1rem;\n  font-weight: normal;\n  margin-left: -7px;\n  padding-left: 0;\n"]))),function(e){var t=e.checked,n=e.handleChange,c=e.path;return Object(j.jsxs)("header",{className:"mailbox-header",children:[Object(j.jsx)("input",{className:"mail-checkbox",type:"checkbox",id:"checkAll",checked:t,onChange:n}),Object(j.jsx)("div",{className:"mailbox-section-1",children:"sent"===c?Object(j.jsx)("h2",{className:"row-to",children:"To"}):"trash"===c?Object(j.jsx)("h2",{}):Object(j.jsx)("h2",{className:"row-from",children:"From"})}),Object(j.jsxs)("div",{className:"mailbox-section-2",children:[Object(j.jsx)("h2",{className:"row-subject",children:"Subject"}),Object(j.jsx)("h2",{className:"row-sent",children:"Sent"})]})]})}),Mn={longDate:function(e){var t=new Date(e),n=t.getDate(),c=Yn(t.getMonth()+1),a=t.getFullYear();return console.log(t),"".concat(n," ").concat(c," ").concat(a)},shortDate:function(e){var t=function(e){return e<10?"0".concat(e):e},n=new Date(e);return"".concat(n.getFullYear().toString().substring(2),"/").concat(t(n.getMonth()+1),"/").concat(t(n.getDate()))}},Yn=function(e){var t="";switch(parseInt(e)){case 1:t="Jan";break;case 2:t="Feb";break;case 3:t="Mar";break;case 4:t="Apr";break;case 5:t="May";break;case 6:t="Jun";break;case 7:t="Jul";break;case 8:t="Aug";break;case 9:t="Sep";break;case 10:t="Oct";break;case 11:t="Nov";break;default:t="Dec"}return t},Tn=Mn,Hn=(F.a.div(cn||(cn=Object(E.a)(["\n  position: relative;\n  width: 10%;\n"]))),F.a.div(an||(an=Object(E.a)(["\n  font-size: 0.9rem;\n"]))),F.a.div(sn||(sn=Object(E.a)(["\n  width: 30%;\n"]))),Object(F.a)(y.b)(rn||(rn=Object(E.a)([""]))),F.a.div(on||(on=Object(E.a)(["\n  width: 50%;\n"]))),function(e){var t=e.handleChange,n=e.setCurrentMessage,c=e.checkedState,a=e.message,i=e.index,r=Object(s.useContext)(u).path;return Object(j.jsxs)("div",{className:"mail-row",style:{backgroundColor:a.isRead?"#e3e3e3":""},children:[Object(j.jsx)("input",{className:"mail-checkbox",type:"checkbox",id:"checkbox".concat(i),checked:c[i],onChange:function(e){t(e,i)},style:{background:a.read?"#f5f8fa":""}}),Object(j.jsxs)(y.b,{className:"mail-message",onClick:function(e){e.stopPropagation(),n(a),localStorage.setItem("message",JSON.stringify(a))},style:{backgroundColor:a.isRead?"#e3e3e3":""},to:"/mail/".concat(r,"/").concat(a._id),id:i,children:[Object(j.jsx)("div",{className:"mailbox-section-1",children:Object(j.jsx)("div",{className:"row-from",children:"inbox"===r||"unread"===r?a.sender:"sent"===r?a.recipient:""})}),Object(j.jsxs)("div",{className:"mailbox-row mailbox-section-2",children:[Object(j.jsx)("div",{className:"row-subject",children:a.subject}),Object(j.jsx)("div",{className:"row-sent",children:document.body.clientWidth>500?Tn.longDate(a.date):Tn.shortDate(a.date)})]})]})]})}),Jn=function(e){var t={};return e.recipient||(t.recipient="Recipient is required"),e.subject||(t.subject="Subject is Required"),e.text?parseInt(e.text.length)>500&&(t.text="Message is too long"):t.text="Message is required",t},qn=function(e,t,n,c){var a=Object(s.useState)({recipient:n,subject:c,text:""}),i=Object(l.a)(a,2),r=i[0],o=i[1],j=Object(s.useState)({}),d=Object(l.a)(j,2),b=d[0],u=d[1],h=Object(s.useState)(!1),O=Object(l.a)(h,2),m=O[0],x=O[1];return Object(s.useEffect)((function(){0===Object.keys(b).length&&m&&e(r)}),[b]),{handleChange:function(e){var t=e.target,n=t.name,c=t.value;o(Object(B.a)(Object(B.a)({},r),{},Object(N.a)({},n,c)))},values:r,handleClick:function(e){e.preventDefault(),u(t(r)),x(!0)},errors:b}},Ln=function(){var e=Object(w.g)(),t=Object(w.h)(),n=Object(s.useContext)(O).user,c=Object(s.useContext)(u).setPath,a=Object(s.useState)(t.state?t.state.sender:""),i=Object(l.a)(a,2),r=i[0],o=i[1],d=Object(s.useState)(t.state?t.state.subject:""),b=Object(l.a)(d,2),h=b[0],m=b[1],x=Object(s.useState)(""),g=Object(l.a)(x,2),p=g[0],f=g[1],A=Object(s.useState)(""),C=Object(l.a)(A,2),v=C[0],S=(C[1],Object(s.useState)("")),y=Object(l.a)(S,2),E=y[0],N=(y[1],Object(s.useState)(!1)),B=Object(l.a)(N,2),I=B[0],k=(B[1],Object(s.useState)(0)),F=Object(l.a)(k,2),Q=F[0],D=F[1],G=Object(s.useState)("#333333"),R=Object(l.a)(G,2),U=R[0],M=R[1],Y=Object(s.useState)(!1),T=Object(l.a)(Y,2),H=T[0],J=T[1],q=Object(s.useState)(""),L=Object(l.a)(q,2),P=L[0],K=(L[1],n.token),Z=n.name,W=Object(s.useRef)(),z=Object(s.useRef)(),V=Object(s.useRef)(),X=qn((function(e){o(e.recipient),m(e.subject),f(e.text),J(!0)}),Jn,r,h),_=X.handleChange,$=X.values,ee=X.handleClick,te=X.errors;return Object(s.useEffect)((function(){c(Dn(t.pathname))})),Object(s.useEffect)((function(){if(!H)return console.log("invalid");var t=new Headers;t.append("Content-Type","application/json"),t.append("auth-token",K);var n={method:"POST",headers:t,body:JSON.stringify({subject:h,userName:Z,recipientName:r,text:p,isReply:I,messageID:v,threadID:E})};fetch("/api/messages",n).then((function(e){return e.json()})).then((function(t){f(""),D(0),e.push("/mail/inbox")})).catch((function(e){return console.log(e)}))}),[H]),Object(s.useEffect)((function(){switch(!0){case Q<=500&&Q>450:M("#ffc107");break;case Q>500:M("#dc3545");break;default:M("#333333")}}),[Q]),Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("main",{className:"content",children:Object(j.jsx)("div",{className:"message-content",children:Object(j.jsxs)("section",{className:"message-form",children:[Object(j.jsx)("div",{className:"error-msg",children:P}),Object(j.jsxs)("form",{children:[te.recipient?Object(j.jsx)("p",{className:"error",children:te.recipient}):Object(j.jsx)("label",{htmlFor:"recipient",children:"Recipient:"}),Object(j.jsx)("input",{className:te.recipient&&"empty-field",id:"recipient",type:"text",name:"recipient",value:t.state?t.state.sender:$.recipient,ref:W,onChange:_}),te.subject?Object(j.jsx)("p",{className:"error",children:te.subject}):Object(j.jsx)("label",{htmlFor:"subject",children:"Subject:"}),Object(j.jsx)("input",{className:te.subject&&"empty-field",id:"subject",type:"text",name:"subject",value:t.state?t.state.subject:$.subject,ref:z,onChange:_}),te.text?Object(j.jsx)("p",{className:"error",children:te.text}):Object(j.jsx)("label",{htmlFor:"text",children:"Message:"}),Object(j.jsx)("textarea",{className:te.text&&"empty-field",id:"text",name:"text",value:$.text,ref:V,onChange:function(e){D(e.target.value.length),_(e)}}),Object(j.jsxs)("footer",{children:[Object(j.jsxs)("span",{className:"word-counter",children:[Object(j.jsxs)("span",{style:{color:U},children:[" ",Q," "]}),Object(j.jsxs)("span",{children:[" / ",500]})]}),Object(j.jsx)("button",{className:"item-button success",onClick:ee,children:"Send"})]})]})]})})})})},Pn=(F.a.main(ln||(ln=Object(E.a)([""]))),F.a.p(jn||(jn=Object(E.a)([""])))),Kn=(F.a.section(dn||(dn=Object(E.a)(["\n  padding: 5px 10px;\n  border-bottom: 1px solid #e1e8ed;\n  margin-bottom: 25px;\n"]))),F.a.div(bn||(bn=Object(E.a)(["\n  padding: 0 10px;\n"]))),F.a.button(un||(un=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 17%;\n  padding: 7px;\n  border: 1px solid #e1e8ed;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]))),Object(F.a)(y.b)(hn||(hn=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 17%;\n  padding: 7px;\n  border: 1px solid #e1e8ed;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),F.a.div(On||(On=Object(E.a)(["\n  width: 100%;\n"]))),F.a.div(mn||(mn=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 10px;\n  margin-bottom: 25px;\n"]))),F.a.a(xn||(xn=Object(E.a)(["\n  backgound: none;\n  padding: 0;\n  margin: 0;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),function(e){var t=e.currentMessage,n=e.setMessages,c=e.setLoading,a=Object(w.g)(),i=Object(w.h)(),r=Object(s.useContext)(u),o=r.path,l=r.setPath,d=Object(s.useContext)(O).user;Object(s.useEffect)((function(){t||(t=JSON.parse(localStorage.getItem("message"))),localStorage.setItem("message",JSON.stringify(t))}),[]);var b=function(e){l(null),c(!0);var n={userID:d.id,messageID:t._id,isReadStatus:e},s=new Headers;s.append("Content-type","application/json"),s.append("auth-token",d.token);var r={method:"PATCH",headers:s,body:JSON.stringify(n)};fetch("/api/messages/read",r).then((function(e){return e.json()})).then((function(e){c(!1),l(Dn(i.pathname)),t.isRead&&a.push("/mail/".concat(o))})).catch((function(e){return console.log(e)}))},h=function(e){l(null),c(!0);var n={userID:d.id,messageID:t._id,isSentMessage:t.isSent,isTrashStatus:e},s=new Headers;s.append("Content-type","application/json"),s.append("auth-token",d.token);var r={method:"PATCH",headers:s,body:JSON.stringify(n)};fetch("/api/messages/trash",r).then((function(e){return e.json()})).then((function(e){c(!1),localStorage.removeItem("message"),l(Dn(i.pathname)),a.push("/mail/".concat(o))})).catch((function(e){return console.log(e)}))};return Object(s.useEffect)((function(){t.isRead||b(!0)}),[i]),console.log(t),Object(j.jsxs)("div",{className:"message-container",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"go-back",onClick:function(){localStorage.removeItem("message"),a.push("/mail/".concat(o))},children:[Object(j.jsx)(P.a,{})," ",Object(j.jsxs)("p",{children:["Back To ",o&&o.charAt(0).toUpperCase()+o.substring(1)]})]}),Object(j.jsxs)("div",{className:"message-details",children:["inbox"===o?Object(j.jsxs)(Pn,{children:["From: ",Object(j.jsx)("strong",{children:t.sender})]}):Object(j.jsxs)(Pn,{children:["To: ",Object(j.jsx)("strong",{children:t.recipient})]}),Object(j.jsxs)(Pn,{children:["Subject: ",Object(j.jsx)("strong",{children:t.subject})]}),Object(j.jsxs)("div",{children:["Sent:"," ",Object(j.jsx)("strong",{children:Tn.longDate(t.date)})]})]}),Object(j.jsx)("div",{className:"mail-content",children:t.text})]}),Object(j.jsxs)("div",{className:"item-buttons column",children:[Object(j.jsx)("button",{className:"item-button row-3 success",onClick:function(){a.push({pathname:"/mail/message",state:t})},children:"Reply"}),"trash"===o?t.isSent?Object(j.jsx)("button",{className:"item-button row-3 primary",onClick:function(){localStorage.removeItem("message"),h(!1)},children:"Move to Sent"}):Object(j.jsx)("button",{className:"item-button row-3 primary",onClick:function(){localStorage.removeItem("message"),h(!1)},children:"Move to Inbox"}):"inbox"===o?Object(j.jsx)("button",{className:"item-button row-3 primary",onClick:function(){b(!1),t.isRead?localStorage.removeItem("message"):a.push("/mail/inbox")},children:"Mark As Unread"}):"","trash"!==o?Object(j.jsx)("button",{className:"item-button row-3 danger",onClick:function(){h(!0)},children:"Move To Bin"}):Object(j.jsx)("button",{className:"item-button row-3 danger",onClick:function(){!function(e){var t=[e];c(!0);var s={userID:d.id,toBeDeleted:t},r=new Headers;r.append("Content-type","application/json"),r.append("auth-token",d.token);var j={method:"DELETE",headers:r,body:JSON.stringify(s)};fetch("/api/messages/delete",j).then((function(e){return e.json()})).then((function(e){console.log(e),l(Dn(i.pathname)),n(e.data.length>0?e.data:[]),localStorage.removeItem("message"),a.push("/mail/".concat(o))}))}(t)},children:"Delete"})]})]})}),Zn=(F.a.div(gn||(gn=Object(E.a)(["\n  display: flex;\n"]))),F.a.div(pn||(pn=Object(E.a)(["\n  width: 80%;\n  padding: 10px;\n  border: 1px solid #f5f8fa;\n"]))),F.a.div(fn||(fn=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  height: 70vh;\n"])))),Wn=(F.a.aside(An||(An=Object(E.a)(["\n  width: 20%;\n"]))),function(){var e=Object(s.useContext)(O),t=e.user,n=e.setUnreadMail,c=Object(s.useContext)(u),a=c.path,i=c.setPath,r=Object(w.h)(),o=Object(w.g)(),d=Object(s.useState)(!1),b=Object(l.a)(d,2),h=b[0],m=b[1],x=Object(s.useState)([]),g=Object(l.a)(x,2),p=g[0],f=g[1],A=Object(s.useState)(localStorage.getItem("message")?JSON.parse(localStorage.getItem("message")):{}),C=Object(l.a)(A,2),v=C[0],S=C[1],y=Object(s.useState)(!1),E=Object(l.a)(y,2),N=E[0],B=E[1],I=Object(s.useState)(!1),k=Object(l.a)(I,2),F=k[0],Q=k[1],D=Object(s.useState)([]),G=Object(l.a)(D,2),R=G[0],U=G[1];Object(s.useEffect)((function(){console.log(a),i(Dn(r.pathname))}),[]),Object(s.useEffect)((function(){if("message"!==a&&a){m(!0),B(!1);var e=new Headers;e.append("Content-type","application/json"),e.append("auth-token",t.token);var c={method:"GET",headers:e};fetch("/api/messages/".concat(a,"/").concat(t.id),c).then((function(e){return e.json()})).then((function(e){if(e.data){if("inbox"===a||"unread"===a){var t=e.data.filter((function(e){return!e.isRead&&!e.isTrash}));n(t.length)}f(e.data)}else f([]);m(!1)})).catch((function(e){return console.log(e)}))}}),[a]),Object(s.useEffect)((function(){localStorage.getItem("message")||U(new Array(p.length).fill(N))}),[p]),Object(s.useEffect)((function(){U(new Array(p.length).fill(N)),Q(!!N)}),[N]),Object(s.useEffect)((function(){var e=R.find((function(e){return!0===e}));N&&(R.includes(!0)||B(!1)),Q(!!e)}),[R]);var M=function(e,t){if("checkAll"===e.target.id)B(!N);else if("checkbox"===e.target.type){var n=R.map((function(e,n){return t===n?!e:e}));U(n),localStorage.setItem("checkedState",JSON.stringify(n)),o.push("/mail/".concat(r.pathname.split("/")[2]))}};return Object(j.jsxs)("div",{className:"mailbox-container",children:[Object(j.jsx)("h2",{className:"page-title",children:"Mailbox"}),Object(j.jsx)("div",{className:"mailbox-aside",children:Object(j.jsx)(Rn,{isTrash:F,checkedState:R,setMessages:f,setLoading:m,messages:p,user:t})}),Object(j.jsx)("div",{className:"mailbox-content",children:"/mail/inbox"===r.pathname||"/mail/sent"===r.pathname||"/mail/unread"===r.pathname||"/mail/trash"===r.pathname?Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(Un,{handleChange:M,checked:N,path:a,checkedState:R,messages:p}),Object(j.jsx)(Zn,{children:h||!p?Object(j.jsx)(X,{}):p.map((function(e,n){return Object(j.jsx)(Hn,{setCurrentMessage:S,handleChange:M,checkedState:R,message:e,index:n,userID:t.id},n)}))})]}):"message"===a?Object(j.jsx)(Ln,{}):Object(j.jsx)(Kn,{currentMessage:v,setMessages:f,setLoading:m})})]})}),zn=(n(41),function(){var e=Object(s.useContext)(O).user,t=Object(s.useContext)(A).cardContext;return Object(j.jsxs)(y.a,{children:[Object(j.jsx)(We,{}),Object(j.jsx)("section",{className:"container",children:Object(j.jsxs)(w.d,{children:[Object(j.jsx)(w.b,{exact:!0,path:"/",children:e?Object(j.jsx)(w.a,{to:"/me"}):Object(j.jsx)(Ve,{})}),Object(j.jsx)(w.b,{exact:!0,path:"/about",children:Object(j.jsx)(_e,{})}),Object(j.jsx)(w.b,{exact:!0,path:"/contact",children:Object(j.jsx)(Xe,{})}),Object(j.jsx)(w.b,{exact:!0,path:"/login",children:e?Object(j.jsx)(w.a,{to:"/me"}):Object(j.jsx)(D,{})}),Object(j.jsx)(w.b,{exact:!0,path:"/register",children:Object(j.jsx)(U,{})}),Object(j.jsx)(w.b,{exact:!0,path:"/settings",children:e?Object(j.jsx)(J,{}):Object(j.jsx)(w.a,{to:"/login"})}),Object(j.jsx)(w.b,{exact:!0,path:"/me",children:e?Object(j.jsx)(et,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/add-card/:cardName",children:t?Object(j.jsx)(pt,{}):Object(j.jsx)(w.a,{to:"/search-api"})}),Object(j.jsx)(w.b,{exact:!0,path:"/cart",children:Object(j.jsx)(En,{})}),Object(j.jsx)(w.b,{exaxt:!0,path:"/confirmation",children:e?Object(j.jsx)(Nn,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/profile",children:e?Object(j.jsx)($e,{}):Object(j.jsx)(w.a,{to:"/login"})}),Object(j.jsx)(w.b,{exact:!0,path:"/store",children:e?Object(j.jsx)(ct,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/search-api",children:e?Object(j.jsx)(st,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/catalog/:search",children:Object(j.jsx)(jt,{})}),Object(j.jsx)(w.b,{exact:!0,path:"/remove-card",children:t?Object(j.jsx)(Fn,{}):Object(j.jsx)(w.a,{to:"/store"})}),Object(j.jsx)(w.b,{exact:!0,path:"/modify-card",children:t?Object(j.jsx)(Qn,{}):Object(j.jsx)(w.a,{to:"/store"})}),Object(j.jsx)(w.b,{exact:!0,path:"/mail/inbox",children:e?Object(j.jsx)(Wn,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/mail/:handle/:handle",children:e?Object(j.jsx)(Wn,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/mail/unread",children:e?Object(j.jsx)(Wn,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/mail/sent",children:e?Object(j.jsx)(Wn,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/mail/trash",children:e?Object(j.jsx)(Wn,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{exact:!0,path:"/mail/message",children:e?Object(j.jsx)(Wn,{}):Object(j.jsx)(w.a,{to:"/"})}),Object(j.jsx)(w.b,{children:Object(j.jsx)(ft,{})})]})}),Object(j.jsx)(ze,{})]})});o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(b,{children:Object(j.jsx)(h,{children:Object(j.jsx)(m,{children:Object(j.jsx)(g,{children:Object(j.jsx)(f,{children:Object(j.jsx)(C,{children:Object(j.jsx)(S,{children:Object(j.jsx)(zn,{})})})})})})})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.ede547cb.chunk.js.map